[
  {
    "title": "Non-elementary group-by aggregations in Polars vs pandas (quansight.org)",
    "points": 57,
    "submitter": "rbanffy",
    "submit_time": "2024-11-15T22:40:20 1731710420",
    "num_comments": 17,
    "comments_url": "https://news.ycombinator.com/item?id=42152076",
    "comments": [
      "I did non trivial work with apache spark dataframes and came to appreciate them before ever being exposed to Pandas. After spark, pandas just seemed frustrating and incomprehensible. Polars is much more like spark and I am very happy about that.DuckDb even goes so far as to include a clone of the pyspark dataframe API, so somebody there must like it too.\n \nreply",
      "I had a similar experience with spark, especially in the Scala API it felt very expressive and concise once I got used to certain idioms.  Also +1 on duckdb which is excellent.There are some frustrations in spark however, I remember getting stuck on Winsorizing over groups. Hilariously there are identical functions called `percentile_approx` and `approx_percentile` and it wasn't clear from the docs they were the same or at least did the same thing.Given all that, the ergonomics of Julia for general purpose data handling is really unmatched IMO. I've got a lot of clean and readable data pipeline and shaping code that I revisited a couple years later and could easily understand. And making updates with new more type-generic functions is a breeze. Very enjoyable.\n \nreply",
      "I don't know how well the polars implementation works, but what I love about PySpark is that sometimes spark is able to push those groupings down to the database. Not always, but sometimes. However I imagine that many people love polars/pandas performance for transactional queries (from start to finish get me a result in less than a second (as long as the number of underlying rows is not greater than 20k-ish). Pyspark will never be super great for that.\n \nreply",
      "I've wanted to convert a massive Pandas codebase to Polars for a long time. Probably 90% of the compute time is Pandas operations, especially creating new columns / resizing dataframes (which I understand to involve less of a speed difference compared to the grouping operations mentioned in the post, but still substantial). Anyone had success doing this and found it to be worth the effort?\n \nreply",
      "I converted to DuckDB and Polars. It\u2019s worth it for the speed improvement.However there are subtle differences between Pandas and Polars behaviors so regression testing is your friend. It\u2019s not 1:1 mapping.\n \nreply",
      "There's been so many subtle changes in pandas to pandas upgrades (especially groupby is somehow always hit), so regression tests are always needed...\n \nreply",
      "Which things did you decide to move to duckdb?\n \nreply",
      "Pandas sat alone in the Python ecosphere for a long time. Lack of competition is generally not a good thing. I'm thrilled to have Polars around to innovate on the API end (and push Pandas to be better).And I say this as someone who makes much of their living from Pandas.\n \nreply",
      "I think pandas is well aware of some of the unfortunate legacy API decisions without Polars. They are trapped by backwards compatibility. Wes\u2019 \u201cThings I Hate About Pandas\u201d post covers the highlights. Most of which boils down to having not put a layer between numpy and pandas. Which is why they were stuck with the unfortunate integer null situation.\n \nreply",
      "Which is all stuff they could fix, if they'd be willing to, with a major version bump. They'd need a killer feature to encourage that migration though.\n \nreply"
    ],
    "link": "https://labs.quansight.org/blog/dataframe-group-by",
    "first_paragraph": "Published November 11, 2024MarcoGorelliMarco GorelliI attended PyData Berlin 2024 in April, and it was a blast! I met so many colleagues, collaborators, and friends.\nThere was quite some talk of Polars - some people even gathered together for a Polars-themed dinner!\nIt's certainly nice to see people talking about it, and the focus tends to be on features such as:Yet there's one innovation which barely ever gets a mention: non-elementary group-by aggregations.I'll start by introducing the group-by operation. We'll then take a look at elementary aggregations\nwith both the pandas and Polars APIs. Finally, we'll look at non-elementary aggregations, and see\nhow the Polars API enables so much more than the pandas one.Suppose we start with a (Polars) dataframe such as:A group-by operation produces a single row per group:If we want a single scalar value per group, we can use a reduction ('mean', 'sum', 'std', ...):If you're coming from a pandas-like library, you may have been used to writing t"
  },
  {
    "title": "Biological Miracle \u2013 Wood Frog (nps.gov)",
    "points": 217,
    "submitter": "thunderbong",
    "submit_time": "2024-11-15T18:16:08 1731694568",
    "num_comments": 55,
    "comments_url": "https://news.ycombinator.com/item?id=42149433",
    "comments": [
      "Curious to how long the frozen structure can \"survive\". I wonder if it's a good idea to freeze one such frog and thaw it centuries later (an amphibian time-traveler!)\n \nreply",
      "- Artificial experiment [1]: no longer than 3 months (but see disclaimer)- New study [2]: 7 months (with 100% survival rate)So further study seems to be needed.[1] https://journals.biologists.com/jeb/article/216/18/3461/1160...[2] https://journals.biologists.com/jeb/article/217/12/2193/1211...\n \nreply",
      "If kept in pristine conditions (perfectly sealed to prevent evaporation leading to dehydration, deep freeze), is there a particular chemical needed for life that we might expect to break down first?Since chemical reactions happen in the freezer just slower...\n \nreply",
      "Aquatic turtles have another brumination (hibernation) strategy. Since they breathe air, yet may get trapped under the ice for months at at time, they lower their metabolism plus have adaptations such as scavenging some oxygen from the water via rectal tissues as well as other chemical activity involving glucose and calcium.https://www.pbs.org/newshour/science/the-secret-to-turtle-hi...https://wildlifeinwinter.com/painted-turtleI have one at home in constant warm water, yet she can see the sky and decides to bruminate on her own: every year around this time, she starts napping in her under water hide for days or weeks at a time.\n \nreply",
      "That's a word I don't know (and neither do you): brumation, invented in 1965.https://en.wiktionary.org/wiki/brumationThe verb ought to be brumate. But I guess the desire to pull it into line with hibernation is strong, this happens with lots of words. (Or was the influence from \"rumination\"?)\n \nreply",
      "Oops, thank you.\n \nreply",
      "Our tortoise, even though he's in a very comfortable climate controlled indoor pen, tries to dig a hole every year to do the same.He's not very smart but he tries hard.\n \nreply",
      "Now I'm wondering all kinds of things about their brain. Are they capable of forming memories, and would they retain those memories after a freeze/thaw cycle?Effectively they're dead when they freeze. I'm assuming there's no brain activity.. Which means when they thaw they're being restored to life. I wonder if any other animals experience this\n \nreply",
      "I would assume that just as a computer\u2019s storage remains intact after a restart, these frogs\u2019 brains have internal structure, synaptic connections etc that are preserved after a freeze/thaw cycle.\n \nreply",
      "Reading about them, it seems they migrate in winter (like half a mile uphill), but the adults always return to the same breeding pond in spring, so that information is stored somewhere.\n \nreply"
    ],
    "link": "https://www.nps.gov/gaar/learn/nature/wood-frog-page-2.htm",
    "first_paragraph": "\nWood Frog   |   Biological Miracle   |   Swamp Romance   |   Frogs in Trouble   |   \nAmphibians 101   |   Back to WildlifeNPS PhotoFreezing SolidThe most remarkable thing about wood frogs happens not in the summer when they transform from tadpoles to frogs, but in the winter when they hibernate.The northern forests of Alaska and Canada have some of the most dramatic temperature ranges in the world. Summer days stretch to 24 hours and temperatures can climb into the 90\u2019s. Winter brings some of the earth\u2019s coldest temperatures: it is not unusual to have temperatures of minus 50 degrees Fahrenheit. Prospect Creek, just south of the Brooks Range, had the coldest temperature ever recorded in Alaska\u2014minus 80 degrees Fahrenheit. Almost certainly, there were hibernating wood frogs near Prospect Creek when that record was set.This is the winter world in which the wood frog must survive. Remember, frogs are cold blooded, so their body temperature is about the same as the surrounding air. How do"
  },
  {
    "title": "First Impressions: Lenovo T14s with Qualcomm Snapdragon ARM64 CPU (freebsd.org)",
    "points": 68,
    "submitter": "cnst",
    "submit_time": "2024-11-15T20:57:05 1731704225",
    "num_comments": 31,
    "comments_url": "https://news.ycombinator.com/item?id=42150933",
    "comments": [
      "I love it(in context of FreeBSD):\u2014\u2014\u2014\u2014\u2014What does not work: Keyboard, mouse, TB & USB-C ports, thermal/freq mgt.Conclusion: Highly recommended\n \nreply",
      "That was a bit ironic, indeed, but at least the USB-A works!For what it's worth, the majority of mechanical RGB keyboards and mice are USB-A anyways, so, if you're fine with a very powerful machine that wouldn't have an internal keyboard support for a few weeks, sounds like a good advice anyways!\n \nreply",
      "An ARM64 is \"a very powerful computer\"? The whole promise with ARM is better thermals and long battery life, not screaming performance. With the thermals/cpu not working, we don't even get that.\n \nreply",
      "Somewhat surprised that networking is not mentioned in either list.  Maybe a USB to ethernet dongle was used?\n \nreply",
      "I mean it's a fun computer to write drivers for. You will be that dude if you make it all work and share with community\n \nreply",
      "Ubuntu has an experimental installation image for this laptop at https://discourse.ubuntu.com/t/ubuntu-24-10-concept-snapdrag... .  Everything works except for audio and screen brightness control (I saw a patch for audio upcoming on LKML.  I don't know about the brightness control, but it is stuck on high.  Nevertheless, it still reports 12+ hours of battery with a bright screen.).  It is a nice laptop, if you like the Lenovo T series.\n \nreply",
      "OpenBSD has support for a number of Qualcomm Snapdragon X Elite machines.A bit more works on the T14s Gen 6 too, such as the keyboard! ;-)https://marc.info/?l=openbsd-cvs&m=172925590407875&w=2\n \nreply",
      "> So when my regular HW-pusher had a T14s G6 with Qualcomm Snapdragon\nARM64 CPU, for only EUR1000 + VAT, and I couldn't resist.I wonder where Poul-Henning, who is based in Denmark, got that price. Perhaps he managed to get US pricing.Lenovo EU are notorious for charging a ton of money for new models with limited supply. And poor after-market support, as everything is outsourced.\n \nreply",
      "I'm a bit puzzled about their weird naming. \"T14s Gen 6\" when apparently \"T14s Gen 5\" was Intel based. Surely changing the entire CPU architecture deserves a new model name?\n \nreply",
      "There's the \"T14s Gen 6 (AMD)\", \"T14s Gen 6 (Intel)\", and \"T14s Gen 6 (Snapdragon)\".I'm not naming them either ... just telling you how it works.\n \nreply"
    ],
    "link": "https://lists.freebsd.org/archives/freebsd-hackers/2024-November/004068.html",
    "first_paragraph": ""
  },
  {
    "title": "Why did people rub snow on frozen feet? (2017) (outdoors.stackexchange.com)",
    "points": 36,
    "submitter": "naberhausj",
    "submit_time": "2024-11-15T21:50:30 1731707430",
    "num_comments": 36,
    "comments_url": "https://news.ycombinator.com/item?id=42151569",
    "comments": [
      "Perhaps it got started with people misunderstanding / misremembering drying off by rubbing snow on wet skin. Being wet in cold conditions can be a death sentence so you need to dry off quickly, and this is one of the recommended methods.https://www.ncexped.com/drying-off-snow/\n \nreply",
      "Oh wow, that's counterintuitive until you remember that snow basically works like a sponge. So as long as it starts out cold enough and you're quick enough, the snow can soak up water before it melts and gets you wet all over again.\n \nreply",
      "I can easily see where you would get the idea to rub snow on the tissue from my own experiences with second degree frostbite. I did lukewarm water and that hurt. It felt like my hands were going to explode. Every impulse was screaming that it was exactly the wrong thing to do and I should go back outside where the pain was less.\n \nreply",
      "I had the same experience. I stepped into a hot shower with frostbite in two of my toes (just half of my big toe and bit of the the next toe over) and I inadvertently screamed and fell over, ripping the shower curtain down and everything. I wanted out badly. There\u2019s no aching sensation quite like it that I\u2019ve experienced. I\u2019d definitely fail the gom jabbar.I still can\u2019t feel anything in that side of my big toe, and it occasionally throbs mildly and I think of how incredibly painful serious and extensive frostbite would really be.\n \nreply",
      "One thing to keep in mind, is that if somebody is hypothermic and not just frostbitten, then rapid re-warming is a bad idea.Body protects itself by shutting down blood flow to skin and extremities, keeping the core warm. So if the extremities are rapidly re-warmed, then blood vessels in them dilate. And then blood starts flowing through oxygen-depleted tissues that are cold and full of accumulated metabolic waste.Not a good combination, and you might end up with organ damage as a result.Gradual re-warming instead gives the body time to slowly clear the waste as blood flow re-establishes itself.\n \nreply",
      "This is interesting, I was taught that instead of the metabolic waste, the issue was the cold blood from extremities quickly cooling down the internals once allowed to circulate freely. Do you have any references for this?\n \nreply",
      "What it's worth, we were taught the same thing about people crushed under e.g. rubble in combat medic training 20 years ago. And the same consideration applies to removing a tourniquet that had been in place for over two hours as well.\n \nreply",
      "That was a part of my training for snow rescues. It's probably a combination of both.\n \nreply",
      "I believe the logic is to heat gently through friction, and to promote blood circulation through manipulation.Warming up cold body parts is painful, so maybe it's about distracting from the pain as well.\n \nreply",
      "Yeah it's extremely painful. I jumped into a frozen lake years ago and ran to a shower afterwards. Turned on the water, just slightly warm and it felt like my fingers and toes got smashed by a hammer.\n \nreply"
    ],
    "link": "https://outdoors.stackexchange.com/questions/15801/why-did-people-rub-snow-on-frozen-feet",
    "first_paragraph": ""
  },
  {
    "title": "Seer: A GUI front end to GDB for Linux (github.com/epasveer)",
    "points": 283,
    "submitter": "turrini",
    "submit_time": "2024-11-15T12:36:09 1731674169",
    "num_comments": 158,
    "comments_url": "https://news.ycombinator.com/item?id=42146338",
    "comments": [
      "I built it and tried it out a bit with Godot on Linux. It seems OK (the UI is a bit on the \"- how many widgets do you want? - yes\" side), but also a bit janky. Trying to change the font for the editor didn't work, hovering over a variable to see its value either does nothing (but there is a sub-second cursor change that indicates something is supposed to happen) or it shows an error from GDB about trying to use an expression with a type or keyword (so there was an intent to show a value on a tooltip, it is just broken) - doubleclicking on a variable does add it in some panel with its current value and a timestamp, so the functionality for reading values/expressions from the UI is there too, just not done in the same way as the tooltips.If polished a bit it could be useful, though from all the frontends i've tried the one i disliked the least (none are great) is Gede[0] (which i just noticed had a new release a few hours ago) as it has a very simple and straightforward UI and while it doesn't expose much functionality, what exposes seem to work fine without bugs.[0] https://gede.dexar.se/\n \nreply",
      "> it has a very simple and straightforward UI and while it doesn't expose much functionality, what exposes seem to work fine without bugs.Nice one, I will add it to my notes to use it next time I need debugging. The least thing I want when looking for a bug in my own code is to have to deal with bugs in the debugging tools.\n \nreply",
      "GDB also has a built-in text user interface (TUI) that is surprisingly easy to use[1]. It even supports mouse interaction.[1] https://sourceware.org/gdb/current/onlinedocs/gdb.html/TUI.h...\n \nreply",
      "Personally I prefer cli over tui, but you can just toss something like this in a `.gdbinit`:  tui new-layout default regs 1 {-horizontal src 1 asm 1} 2 status 0 cmd 1\n  tui layout default\n  tui enable\n \nreply",
      "Only works if GDB has been built with TUI support, sadly :(\n \nreply",
      "\u2026 If you are debugging c code surely you\u2019re able to compile a debugger with whatever options you want?\n \nreply",
      "In theory, yes, but in practice, people who know how to compile gdb is a small subset of people who need to debug c code.Not to mention that it actually takes extra time to do so, when people are used to debug Python/JavaScript/Go code with one single click these days.\n \nreply",
      "Is it not usually? I've never had to compile gdb myself to get TUI\n \nreply",
      "This has definitely been an issue for me before, I think at least for a while Ubuntu/Debian didn't ship gdb with tui enabled, you had to build it yourself.\n \nreply",
      "Only seen on some minor embeded systems but it\u2019s not a big deal to compile gdb with tui support enabled.\n \nreply"
    ],
    "link": "https://github.com/epasveer/seer",
    "first_paragraph": "We read every piece of feedback, and take your input very seriously.\n            To see all available qualifiers, see our documentation.\n          \n        Seer - a gui frontend to gdb\n      Seer - a gui frontend to gdb for Linux.   (Ernie Pasveer  epasveer@att.net)This project is actively worked on. The aim is a simple, yet pleasing gui to gdb.Please report any bugs or desired features to my email or create a task in my\nGitHub project page.Seer can be installed either from a package manager or from source.NoteMake sure the requirements are met before installing.LinuxC++17gdb with \"mi\" interpreter (check by running: gdb --interpreter=mi)CMake (3.1.0 or newer)QT6QT5Available through the following package managers:(Recommended) Seer can be built with Qt6 by following the instructions below.https://github.com/epasveer/seer/wiki/Building-Seer---Qt6It can still be built with Qt5, for the time being by following the instructions below.https://github.com/epasveer/seer/wiki/Building-Seer---Qt5"
  },
  {
    "title": "The price of shutting down coal power, and what would be gained (economist.com)",
    "points": 50,
    "submitter": "therabbithole",
    "submit_time": "2024-11-15T23:04:07 1731711847",
    "num_comments": 48,
    "comments_url": "https://news.ycombinator.com/item?id=42152288",
    "comments": [
      "In the US, coal consumption is down 60% since the peak year of 2008.[1] The trend looks linear. Hits zero sometime in the 2030s. Coal is over in the US. Even the coal industry thinks coal is over.[2] Conversion of coal plants to natural gas is proceeding rapidly.China, though, is still adding coal capacity.[1] https://www.statista.com/statistics/243934/coal-consumption-...[2] https://ieefa.org/resources/nowhere-go-down-us-coal-capacity...\n \nreply",
      "> China, though, is still adding coal capacity.It's a bit misleading because China is mostly _replacing_ old coal power plants now.China has probably passed the peak coal consumption this year, or it will in 2025.\n \nreply",
      "The one thing where dictatorship is very efficient. \nOne man says that let's reduce the pollution and others will do it.Let's see if democracy is ever able to do the same.\n \nreply",
      "I disagree.Pollution in China was terrible. Pretty much everybody hated it, and it was not possible to hide or whitewash it.The US was in the same position during 60-s and 70-s, and it fixed the worst of the pollution rapidly. The EPA was established during the freaking Nixon administration.\n \nreply",
      "Coal has peaked globally, there's no global expansion, 190+ countries are winding back coal save for both India and China which are still expanding at a declining rate and expected to peak and decline in the mid term.WRT China, they can't over produce renewable energy and be the largest global supplier of green energy without coal .. at least not yet.\n \nreply",
      "China\u2019s growing coal capacity could be seen as a mix of welfare and bureaucratic waste. Each prefecture is incentivized to build its own redundancy, and in a flagging economy, government spending is up to keep the economy going. The resulting overcapacity could be used for \u2018peaking\u2019 to offset intermittency in renewable power, something that\u2019s being experimented with currently. And in the shorter term, coal can have less warming effect than gas, but I\u2019m not sure this would be true of China\u2019s coal plants in particular\n \nreply",
      "China\u2019s growing coal consumption is part of Cina's growing energy demands, their middle class is growing and exceeds the entire popultion of the USA in size.While that middle class has a per capita energy and consumption figure that is lower than the USA per capita figures it is the case that the US has set an aspiration life style expectation that sees demand grow.China's coal use has become increasingly more efficient; much is made of additional new modern coal power houses, little mention is made of the larger numbers of older inefficient far dirtier coal plants have been closed down and are still being closed down.Nuclear and renewables are part of overall energy production in China to a far greater proportion and absolute number than in the US.The scale of China's energy production is substantial and not easily characterised.\n \nreply",
      "China's coal plants are running at steadily reduced capacity (while their renewables capacity is growing exponentially).> In the first decade of the 2000s, plants were running around 70% of the time. They\u2019re now running around 50%.https://www.sustainabilitybynumbers.com/i/141628065/chinas-c...\n \nreply",
      "Nuclear and renewables are part of overall energy production in China to a far greater proportion and absolute number than in the US.China has a smaller nuclear fleet capacity than the US and meets a much smaller percentage of its electricity needs with nuclear power:https://pris.iaea.org/PRIS/CountryStatistics/CountryDetails....https://pris.iaea.org/PRIS/CountryStatistics/CountryDetails....As of 2023 US got 18.55% of electricity from nuclear power (775 terawatt hours) while China got 4.86% (433 TWh).As of 2023 China does get a larger share from renewables:https://en.wikipedia.org/wiki/Electricity_sector_in_China#Pr...https://www.eia.gov/tools/faqs/faq.php?id=427&t=3It's 29.1% renewables in China (2,756 TWh) vs. 21.4% (894 TWh) in the United States.Grouping nuclear and renewables together as low-emissions sources, the US gets 47.65% of its electricity from low-emissions sources and China gets 33.96% from low-emissions sources.China is building nuclear and renewable sources faster than the US, so will narrow the gap over the rest of the decade, but it's also growing its total electricity consumption faster.\n \nreply",
      "In India, coal just dipped below 50% for the first time since the 1960s. https://m.economictimes.com/industry/energy/power/coals-shar...EDIT: but apparently it went back up in April. Installed coal capacity is 49.3% but since hydro dropped in April it went up again\n \nreply"
    ],
    "link": "https://www.economist.com/interactive/the-economist-explains/2024/11/15/what-would-it-cost-to-kill-coal",
    "first_paragraph": ""
  },
  {
    "title": "C++ Template Macroprogramming versus Lisp Macros (simondobson.org)",
    "points": 50,
    "submitter": "oumua_don17",
    "submit_time": "2024-11-15T19:47:18 1731700038",
    "num_comments": 24,
    "comments_url": "https://news.ycombinator.com/item?id=42150206",
    "comments": [
      "Factorial macro example in C++23 metaprogramming,  #include <iostream>\n\n  consteval long factorial (int n) {\n    if (n == 0) return 1;\n\n    return n * factorial(n - 1);\n  }\n\n  int main() {\n    std::cout << factorial(7) << std::endl;\n  }\n\nExercise for the reader if using VC++ or clang/ninja, use import std instead.-- https://godbolt.org/z/TWe11hM6jNicely put 5040 in ESI register at compile time.Granted, C++ isn't Lisp, but already has quite a room for creativity at compile time, and C++26 might finally have compile time reflection as well.\n \nreply",
      "macro programming in Lisp would be \"programming programs\".I don't see it here. This looks like compile-time execution to compute values. If it would be a macro, it could return source code.\n \nreply",
      "Some people are calling this \"multistage programming\" [1] which is kind of related but not exactly the same as a macro system.--1: https://en.wikipedia.org/wiki/Multi-stage_programming\n \nreply",
      "In general, a macro produces code at compile time, doesn't matter in which form it ends up in the binary, as long as the observable side effects are the same.Example of a library that generates serialization code, https://github.com/getml/reflect-cppAs mentioned the ongoing C++26 proposal with produce the desired source code at compile time, thus reducing the amount of code of libraries such that one.\n \nreply",
      "Common misconception of non Lispers that macros are equivalent to compile time programming. You\u2019re not simply moving the evaluation to compile time, you\u2019re moving it upwards outside the program space into a higher dimension of programmability.Not to dog on C++ unfairly, CTE is pretty neat after all.Funnily enough, PGs \u201cOn Lisp\u201d has some really neat macros in it that demonstrate capabilities that just can\u2019t be replicated with template based macros, iirc.\n \nreply",
      "\"outside the program space into a higher dimension of programmability\"I can visualize this metaphor just fine, but I can't tell why it's useful. Can you make this concept more concrete?\n \nreply",
      "I think an example would be helpful, conditionals:Within the \"program dimension\" there is just no way to run code conditionally without an if, no matter how much you move left and right, you are constrained. It is only possible by using the \"higher dimension\".\n \nreply",
      "This is different from constexpr if in C++? Where one branch will not exist in the compiled code?\n \nreply",
      "(defmacro factorial (n)\n      (labels ((fact (m)\n                 (if (= m 0)\n                     1\n                     (* m (fact (1- m))))))\n        `,(fact n)))\n\nThe `, has no use here and can be removed. Here the backquote and the evaluation just returns the computed value.Thus, this is okay:    (defmacro factorial (n)\n      (labels ((fact (m)\n                 (if (= m 0)\n                     1\n                     (* m (fact (1- m))))))\n        (fact n)))\n\nLABELS defines local recursive functions. The macro returns the result of calling FACT, which is a number and which is a valid form in Common Lisp. A number evaluates to itself.    CL-USER > (macroexpand-1 '(factorial 10))\n    3628800\n    T\n \nreply",
      "Agreed with the technical content and conclusion. However, I think it is worth pointing out that since C++11, it has had a mechanism to specify (maybe) compile-time computations that are written in plain C++:  constexpr, https://en.cppreference.com/w/cpp/language/constexpr(My parenthetical \"maybe\" is that I don't think compilers have to compute constexpr expressions at compile time. The compiler will be forced to when such expressions are used in contexts that require values at compile time. But I think it would be permissible for a compile to defer computation of a constexpr to runtime if the value isn't needed until runtime.)\n \nreply"
    ],
    "link": "https://simondobson.org/2024/06/21/c%2B%2B-template-macroprogramming-versus-lisp-macros/",
    "first_paragraph": "\nFollowing on from Lisp macros versus Rust macros, I also want to\ncompare C++ templates to Lisp\u00a0macros.\n\nTemplates in C++ were designed as a way of generating typed versions\nof classes. The template declares some type variables that can be\nused as placeholders within a class declaration. When the template\nis instanciated and provided with actual type names, these are\nsubstituted for the type variables and the class is expanded. (It\nused to literally happen like this, so each use generated a\ncompletely new class. Modern compilers are smart enough to avoid the\ncode repetition.) A classic example is a typed singly-linked\u00a0list:\n\nHowever, the template system also allows values to be used in\ntemplates instead of (or as well as) type names. When these are\nencountered they are expanded at compile-time, and may cause further\ntemplates to be expanded. A classic example of this is to\npre-compute some\u00a0factorials:\n\nIn this code the first clause defines a template that defines the\nusual recursive fa"
  },
  {
    "title": "Chimpanzees' performance on computer tasks changes when people watching them (cell.com)",
    "points": 37,
    "submitter": "giuliomagnifico",
    "submit_time": "2024-11-09T16:08:35 1731168515",
    "num_comments": 14,
    "comments_url": "https://news.ycombinator.com/item?id=42095134",
    "comments": [
      "Interesting study. The performance increase on the difficult task as audience size increases is counterintuitive at first, but it makes sense when you consider how many humans excel at performing in front of large audiences.Yet for some of us the stress of being observed and scrutinized is crippling regardless of the task difficulty. I've bombed so many interviews because of this. :(\n \nreply",
      "The people watching were familiar to the chimps, so desire to please or pride may have overcome fear of failure.It was also only 6 chimps and the experiments were run over many years. I bet replication is going to be troublesome.\n \nreply",
      "Checks out with what I read in \"Mike Mulligan and his Steam Shovel.\"Man, I read that book to my kids so many times I can probably still recite it in it's entirety.I miss having little kids.\n \nreply",
      "So the chimps will be the ones to finally bring open office plans to an end?\n \nreply",
      "Because they think they're getting treats for it, from the humans.I don't think they see any value in computer tasks other than getting treats.\n \nreply",
      "They do the task because they know that they will get a good reward from an automatic feeder, with or without an audience. They might perceive them as competition, better get the treat before one of the hairless ones takes it. In private, just randomly mashi f the screen until the feeder is cooperative might  be good enough, even if it takes a little longer.\n \nreply",
      "Doesn't sound so different from a lot of jobs...\n \nreply",
      "The scene from Groundhog's Day with the two drunk guys.Stuck in the same day over and over again.  Yep, sounds about right.\n \nreply",
      "This might be why I do so well at a coffee shop sometimes.\n \nreply",
      "mean reversion to the level of available feedback seems like the principle at play.\n \nreply"
    ],
    "link": "https://www.cell.com/iscience/fulltext/S2589-0042(24)02416-7",
    "first_paragraph": ""
  },
  {
    "title": "M4 MacBook Pros use a quantum dot (QD) film rather than a red KSF phosphor film (twitter.com/dsccross)",
    "points": 21,
    "submitter": "zdw",
    "submit_time": "2024-11-16T00:21:34 1731716494",
    "num_comments": 11,
    "comments_url": "https://news.ycombinator.com/item?id=42152928",
    "comments": [
      "I\u2019ve noticed similar \u201cmini\u201d news stories trickle out after Apple\u2019s announcements. Does this happen organically, or does PR drop tidbits like this to select sources?It seems like a very specific thing for a reporter to ask and find out about.\n \nreply",
      "Look at the Tweet (X?  Blurp?  What do we call them now?) - it's got the spectrum of the panel, comparing previous and newer panels.If you know what you're looking for in those, you can identify a lot of different phosphor configurations just by the particular shape of the RGB peaks - the older ones have a distinctive multi-peaked red emission that I've seen in various LED bulbs as well over the years.I doubt Apple mentioned it to anyone.  Applying a spectrometer to any new light emitting device is just the sort of thing some people enjoy doing.\n \nreply",
      "Many people remain fascinated by Apple and the small choices that (traditionally) give their products a sense of careful and attentive design and engineering.So there's both a supply of people eager to pick their products apart and a market of people eager to hear about all the little details and secrets.While Apple probably does seed some stories intentionally, as their PR teams are sharp, they don't need to be doing so for swarms of these reports to pop up after announcements and first shipments.\n \nreply",
      "It could simply be the people are now getting their hands on them and testing them for things that Apple didn\u2019t specifically say in their announcements.\n \nreply",
      "That's my interpretation too, people start finding out stuff when they get their hands on it, and each has their own interests.\n \nreply",
      "Is there more to the thread or just this one tweet/X thing? Response times notoriously suck on MacBooks, it would be nice to see that remedied, anecdotally it doesn't seem like that's happened yet.Edit: Nevermind, same tweet seems to have been quoted across a bunch of different other news sites. Apparently Blur Busters claims an improvement, I'll try it out and see how it is in some other contexts.\n \nreply",
      "If you're not logged in to Xitter, navigating to a Xeet allows you to view the Xeet, but not the Xomments. Fortunately, there are open-source, self-hostable, privacy-preserving front-ends for Xitter, such as Nitter.If setting it up yourself is too much work, you can use other public instances. One such instance is called xcancel. Load the Xeet as normal, then simply append \"cancel\" to the domain name before the period in your URL bar and hit enter :)\n \nreply",
      "Does this mean better motion response times? The M-series MacBook Pro displays have notoriously smeary displays while displaying high-motion content, so this would be a welcome addition.\n \nreply",
      "So far, the answer anecdotally is no, at least not in situations where lit pixels are moved quickly into black areas. In practice, my obnoxious green text black background terminal was kind of gross to scroll, but haven't experimented much with others yet. Playing games has thus far been fine, scrolling in other contexts is fine for practical purposes. Happy to update this if you want after I ruin my new MacBook by experimenting more\n \nreply",
      "> latest Cd-free QD films are very efficient, feature as good or better color gamut and better motion performancePossibly yes.\n \nreply"
    ],
    "link": "https://twitter.com/DSCCRoss/status/1857208745014776215",
    "first_paragraph": ""
  },
  {
    "title": "Half-Life 2: 20th Anniversary Update (half-life.com)",
    "points": 313,
    "submitter": "Philpax",
    "submit_time": "2024-11-15T22:18:45 1731709125",
    "num_comments": 113,
    "comments_url": "https://news.ycombinator.com/item?id=42151865",
    "comments": [
      "It doesn't seem to be mentioned here, but HL2 (which now includes the sequel episodes) is completely free to claim on Steam until the 18th, if you're new to the series.https://store.steampowered.com/app/220/HalfLife_2/Also try clicking on the gravity gun at the end of the anniversary page.\n \nreply",
      "Also I highly recommend Black Mesa, which is the remake of HL1 in the HL2 engine. The Xen levels went from what they were to possibly some of my favorite levels in the game, and the music scoring is top-notch. It feels great to play.\n \nreply",
      "And regarding another fan project - turns out the Prologue for Project Borealis has been released on November 11th! They're trying to make HL3 according to the Epistle 3 post from a couple of years ago.https://projectborealis.com/prologue-release/Looks great, and feels pretty close to HL2 mechanics! Definitely has to be optimized more, but a very promising start (albeit short, ~10-15 minutes).\n \nreply",
      "I worked on this in the first year, on the gameplay code. Glad it\u2019s finally bearing some fruit.\n \nreply",
      "I had a lot of issues getting black mesa to run on linux natively or via proton. Frequently crashes. Not uncommon per protondb. Food for thought of you're on a linux setup.\n \nreply",
      "Maybe even in a game period. Beautifully done remake.\n \nreply",
      "Black Mesa is also 75% off right now, incidentally. Seems like everything Half Life is either free or on deep discount for the anniversary.\n \nreply",
      "Reminder that you don't actually buy the game, you just license it off steam\n \nreply",
      "Tangential, irrelevant, \"flamebait...generic tangents...internet tropes.\" \"reminder\" that the guidelines explicitly say to avoid. Nobody mentioned ownership or licensing or anything tangentially related until you did.https://news.ycombinator.com/newsguidelines.html\n \nreply",
      "> Nobody mentionedHence the reminder.\n \nreply"
    ],
    "link": "https://www.half-life.com/en/halflife2/20th",
    "first_paragraph": "Our Half-Life 1 25th anniversary documentary went so well that we invited Secret Tape back to make another one\u2014this time focusing on Half-Life 2. And it's about a lot more than just the making of a game. Running out of money. Getting hacked, and an early version being leaked online. Being sued by our publisher. Trying to build Steam. It's all in there!Our Half-Life 1 25th anniversary documentary went so well that we invited Secret Tape back to make another one\u2014this time focusing on Half-Life 2. And it's about a lot more than just the making of a game. Running out of money. Getting hacked, and an early version being leaked online. Being sued by our publisher. Trying to build Steam. It's all in there!Half-Life 2 now includes the complete Episode One and Episode Two expansions along with the base game. They\u2019re accessible from the main menu, and you will automatically advance to the next expansion after completing each one.\nWhen we shipped \"Lost Coast\" a year after Half-Life 2, we included"
  },
  {
    "title": "Hackers now use ZIP file concatenation to evade detection (bleepingcomputer.com)",
    "points": 26,
    "submitter": "sandwichsphinx",
    "submit_time": "2024-11-10T15:19:46 1731251986",
    "num_comments": 13,
    "comments_url": "https://news.ycombinator.com/item?id=42100653",
    "comments": [
      "From a security perspective, and as a programmer, I've never liked ZIP files precisely because there are two mechanisms to identify the contents, the per-file header and the central directory. When you're defining a format, protocol, or w'ever, ideally there should be a single source of truth, a single valid & useable parse, etc; basically, the structure of the data or process should be intrinsically constraining. There shouldn't be a pathway for multiple implementations to produce different functional results, and ZIP archives are in my mind the archetype for getting this wrong. tar files aren't ideal, but in the abstract (ignoring issues with long file names) they don't have this problem. (tar files don't support random access, either, but better to rely on something suboptimal than something that's fundamentally broken.)A similar security problem, though not as fundamentally baked into the format, is MIME parsing. The header section is supposed to be delimited from the body by an empty line (likewise for nested entities). But what if it's not? For better or worse, Sendmail was tolerant of the absence of an empty line and treated as headers everything up to the first line that didn't parse as a header or header continuation.[1] Later systems, like Postfix, originally copied this behavior. But Microsoft Exchange and Outlook are even more tolerant, yet in a much more horrendous way, by parsing as a header anything that looks like a Content-Type or related header immediately after the first empty line. They have similar hacks for other, similar violations. So today, depending on the receiving software, you can send messages that appear differently, including having different attachments. It's a security nightmare!I not a Postel's Law hater, but ZIP archives and Microsoft's MIME parsing behaviors are just egregiously wrong and indefensible. And even if you think the Robustness Principle is inherently bad policy, you still have to design your formats, protocols, and systems to be as intrinsically constraining as possible. You can't rely on vendors adhering to a MUST rule in an RFC, unless it's unquestioningly crystal clear what the repercussions will be--everybody else will (because it's the natural and convenient thing to do) reject your output as trash and drop it on the floor immediately so violations never have a chance to get a foothold.[1] MTAs don't necessarily need to care about MIME parsing, but Sendmail eventually gained features where parsing message contents mattered, setting the de facto norm (for those paying attention) until Microsoft came along.\n \nreply",
      "Related, my two favourite ZIP parser issues:https://bugzilla.mozilla.org/show_bug.cgi?id=1534483 \"Ambiguous zip parsing allows hiding add-on files from linter and reviewers\"https://issues.chromium.org/issues/40082940 \"Security: Crazy Linker on Android allows modification of Chrome APK without breaking signature\"The big problem with the ZIP format is that although the \"spec\" says what a ZIP file looks like, it does not tell you in concrete terms how to parse it, leading to all sorts of ambiguities and divergent implementations. Someone needs to write a \"strict ZIP\" spec that has explicit and well-defined parsing rules, and then we need to get every existing ZIP implementation to agree to follow said spec.\n \nreply",
      "I've done similar stuff. Concat a zip (that keeps throwing false positives) to a jpg and scanners will treat it like a jpg. Then write a script that chops off the jpg to access the zip. All this so I could automate a web a\napp deploy.\n \nreply",
      "This is sometimes used non-maliciously to concatenate zipped eBooks to a JPEG of the cover art. 4Chan's /lit/ board used to do this, but I can't find any reference to it anymore.https://entropymine.wordpress.com/2018/11/01/about-that-jpeg...https://github.com/Anti-Forensics/tucker\n \nreply",
      "Related:https://isc.sans.edu/forums/diary/zipdump+Evasive+ZIP+Concat...https://isc.sans.edu/forums/diary/zipdump+PKZIP+Records/3142...\n \nreply",
      "WinRAR does it right, 7zip and Windows Explorer do it wrong according to https://en.m.wikipedia.org/wiki/ZIP_(file_format)> only files specified in the central directory at the end of the file are valid. Scanning a ZIP file for local file headers is invalid (except in the case of corrupted archives)\n \nreply",
      "Encrypted ZIP files have long been a way to evade any sort of malware detection during transmission.\n \nreply",
      "you dont need to even encrypt zip, since encrypted ZIP file can trigger tripwires during transmission.unencrypted zip, but using .docx or .xlsx format is the way to go (the best way is to hide inside one of the openxml tags or xml comments )\n \nreply",
      "I doubt it still works but things I needed to get through email I would embed in word documents.\n \nreply",
      "Would probably still work.  There's just too many formats which makes it very hard for a content blocker to really stop.I pity the programmer that has to decode the 1000 versions of xls to find the binary blob that could be a virus.\n \nreply"
    ],
    "link": "https://www.bleepingcomputer.com/news/security/hackers-now-use-zip-file-concatenation-to-evade-detection/",
    "first_paragraph": ""
  },
  {
    "title": "Emit-C: A time travelling programming language (github.com/nimrag-b)",
    "points": 52,
    "submitter": "doppp",
    "submit_time": "2024-11-12T15:10:25 1731424225",
    "num_comments": 24,
    "comments_url": "https://news.ycombinator.com/item?id=42116038",
    "comments": [
      "I am going to be harsh here, but I think it\u2019s necessary:  I don\u2019t think anyone should use Emit-C in production.  Without proper tooling, including a time-traveling debugger and a temporal paradox linter, the use case just fails compared to more established languages like Rust.\n \nreply",
      "No one is claiming this is necessary.  It's a toy language built for fun.\n \nreply",
      "Woosh\n \nreply",
      "Given how often people seriously say things like the top level comment being responded to around here, an explicit /s is almost necessary since it can be hard to distinguish from the usual cynical dismissive comments.\n \nreply",
      "I down vote explicit /s' on principle. If you have to add it, you're not doing it right (imo).\n \nreply",
      "I take it you've never heard of Poe's Law?\n \nreply",
      "https://hn.algolia.com/?dateRange=all&page=0&prefix=false&qu...err, I mean. I have not! What's that?\n \nreply",
      "Touche.\n \nreply",
      "Please ELI5... I know there's a joke in there, but I'm missing it.\n \nreply",
      "The humor lies in the inherent absurdity of the critique itself. Obviously no one will use this in production. There\u2019s nothing especially clever you\u2019re missing.\n \nreply"
    ],
    "link": "https://github.com/nimrag-b/emiT-C",
    "first_paragraph": "We read every piece of feedback, and take your input very seriously.\n            To see all available qualifiers, see our documentation.\n          \n        A time travelling programming language\n      A time travelling programming languageemiT is a language all about parallel timelines. At any given point you can send a variable back in time, and make it change things about the past, starting a new timeline where the result is different.\nYou can kill variables, which destroys them permanantly- at least until you send another variable back in time to kill the variable doing the killing.\nThis very quickly leads to a lot of confusion, with a constantly changing source code and the very easy possibility of creating a paradox or a time loop. Remember, the timeline doesnt reset when you go back, any changes made before will remain until you go back even further to stop them from happening.This is a small hobby project, most of which was written in one afternoon, so if you encounter any bugs "
  },
  {
    "title": "Show HN: Free mortgage analysis tool to avoid getting screwed by closing costs (closingwtf.com)",
    "points": 156,
    "submitter": "aaln",
    "submit_time": "2024-11-15T17:38:49 1731692329",
    "num_comments": 108,
    "comments_url": "https://news.ycombinator.com/item?id=42149044",
    "comments": [
      "The privacy and security part is not inspiring confidence. Scrolling to the next section got me thinking \"Don't get scammed at closing, get scammed before closing after uploading your mortgage documents to a random website.\"Cool idea though.\n \nreply",
      "Hey, Aaron the builder here.The scamming that happens to homebuyers is not even comparable to the risk in uploading docs to a website which promises they won't share user data with anyone. This is genuinely a pro buyer tool with no association with any 3rd party.The tool has already helped many people negotiate and get a better deal on their mortgage. Please before judging understand that 70% of buyers overpay in their mortgage 1-3% in closing costs and bad rates. It's mind boggling how much lenders get away with profiting in junk fees from stressed out homebuyers.\n \nreply",
      "Allow me to expound on @kojeovo's remark.  Please take this as a constructive criticism to improve your success potential.  Much of it is from a quick glance, and am sure there are many other facets to improve.A business is not just about the product.Your Privacy Policy.  There is no default way to download it (see 9.), and since it is window-ed cannot print entire doc.  That means I cannot keep a copy of it for myself.> We collect the following types of information:>    Mortgage Documents: Loan Estimates and Closing Disclosures you upload for analysis.Okay, but> 4. Data Security> We implement industry-standard security measures to protect your information from unauthorized access, disclosure, alteration, and destruction.This means nothing.  Are you ISO 27001:2022, NIST SP 800-53, CIS, CE+, Essential Eight, or something else? Have you been audited, and proof? Who is your ISP? What regs do you follow around data sovereignty?Terms of Service.  Again, no default way of download.  Overall, I would never agree to this ToS.  It demands all kinds of requirements on the user, but takes no responsibility for anything - or as described above, explain how you will protect your customers.You have no reference anywhere where you are geographically.  No address, no about us, no who you are.  I would be very leery on uploading anything.\n \nreply",
      "Thanks for the constructive feedback.I just added a way to easily download the entire privacy policy and terms of service, also quickly added an about page with some info about me - https://closing.wtf/aboutEventually I'm going to get a certification and will keep your other points in mind.\n \nreply",
      "Would it matter if they had a \"perfect\" privacy policy? I don't believe there's anything legally that enforces it. So they can promise the moon then turn around and sell your data.Maybe I'm wrong here, but, My mental model of privacy policies and the like has always been: This is a lie, the company will do whatever it wants with my data. And I will have no recourse.As such I've always acted accordingly. And very few websites have legit info on me.\n \nreply",
      "I think acting 'as if' is the safe option here but encouraging change for the better in someone willing to engage in dialog is still better than not doing it. \nMaybe you didn't intend to make a counterpoint, i just wanted to point that out.\n \nreply",
      "Legitimately curious, what\u2019s the worst they could do with this data?\n \nreply",
      "The most common scams around home buying are wire fraud - contact the buyer pretending to be the title company and steal their money. The data in a mortgage is exactly what you need to enable these scams and you're getting people to hand it to you and at the same time tell you they are about to wire money.\n \nreply",
      "Wire Transfers are not undoable and instant, much like Zelle.  So I always recommend people send $10 first, and confirm everything works, before sending real money. When doing the confirmation, try using a different channel of communication, to ensure you are getting the right person. i.e. call them directly from known good phone numbers or something.Yes many banks charge $30 or more for a wire transfer, but I'd rather just pay the $60 than have a large sum wire transfer lost, stolen, etc.Some banks/Brokerages are sane and do not charge extra for wire transfers. Fidelity is one such. BOA also(if you have enough assets there, $100k will do it).\n \nreply",
      "Yep. When we closed on our house we got a whole lecture from the title company about how frequently data breaches lead to wire fraud and to not trust anyone. Mortgage originators are constantly under attack to try to get at the information that OP is asking people to just casually upload.Their aggressive dismissal of the concern is not a good look.\n \nreply"
    ],
    "link": "https://closingwtf.com",
    "first_paragraph": ""
  },
  {
    "title": "The Practical Guide to Scaling Django (slimsaas.com)",
    "points": 77,
    "submitter": "rbanffy",
    "submit_time": "2024-11-15T18:49:32 1731696572",
    "num_comments": 9,
    "comments_url": "https://news.ycombinator.com/item?id=42149694",
    "comments": [
      "The snippets are not false, but there's so much context missing it's easy to worsen the situation, especially for beginners which seem to be the target audience.First, this guide should emphasize the need to measure before doing anything : django silk, django debug toolbarsm, etc.\nOf course, measure after the optimizations too, and measure in production with an apm.Second, some only work sometimes : select_related / prefetch_related / iterator will lead to giga SQL queries with nested joins all over the place, and ends by exploding ram usage. It will help at first, but soon enough one will pay any missing sql knowledge or naive relationships.Third, caching without taking the context into account will probably lead to data corruption one way or another. Debugging stale cache issues is not fun, since you cannot reproduce them easily.Fourth, celery is a whole new world, which requires workers, retry and idempotent logic, etc.Finally, scaling is also about code:  architecture, good practices, basic algorithm, etcI'll end by linking to more complete resources :\n- https://docs.djangoproject.com/en/5.1/topics/performance/\n- https://loadforge.com/guides/the-ultimate-guide-to-django-pe...\n- https://medium.com/django-unleashed/django-application-perfo...\n \nreply",
      "At first I wanted to criticize the post, buuut after finishing reading it I actually liked it. Very concise and practicalps - I didn\u2019t know about template \u201ccache\u201d directive\n \nreply",
      "Probably 80% of notable performance problems I\u2019ve seen in the kinds of systems that things like Django and Ruby get used for have been terrible queries or patterns of use for databases (I\u2019ve seen 1,000x or worse costs for this versus something more-correct) and nearly all of the other 20% has been areas that plainly just needed some pretty straightforward caching.The nice thing about that is that spotting those, and the basic approach to fixing them, if not the exact implementation details, are cross-platform skills that apply basically anywhere.I actually can\u2019t recall any other notable performance problems in those sorts of systems, over the years. Those are so common and the fixes so effective I guess the rest has just never rated attention. I\u2019ve seen different problems in long-lived worker processes though (\u201cmake it streaming\u2014everything becomes streaming when scale gets big enough\u201d is the usual platform-agnostic magic bullet in those cases)A bunch of TFA is basically about those things, so I\u2019m not correcting it, more like nodding along.Oh wait I just thought of another I\u2019ve seen: serving large files through a scripting language, as in, reading it in and writing it back out with a scripting language. You run into trouble at even modest scale. There\u2019s a magic response header for that, make Nginx or Apache or whatever serve it for you, it\u2019s a fix that\u2019s typically deleting a bunch of code and replacing it with one or two lines. Or else just use s3 and maybe signed URLs like the rest of the world. Problem solved.\n \nreply",
      "I have had to combine files into a zipped file on demand before. It is hard to avoid the inherent slowness of that.\n \nreply",
      "Interesting, was there a business reason to not do that in the background somewhere?\n \nreply",
      "The magic header is probably X-Accel-Redirect\n \nreply",
      "Don't store secrets in settings.py. Typically you'd inject those from secrets management as environment variables.\n \nreply",
      "The basic outline of this post isn\u2019t bad, the problem is that\u2019s all there is - a basic outline. If you haven\u2019t dealt with these problems before the checklists are meaningless. If you HAVE dealt with these problems before the checklists are redundant\n \nreply",
      "This sort of article seems perfectly poised to be useless to beginners (no context, doesn't tell you how to use the things) and experts (no nuance, just listing basic features) alike. Who is it for? Why does it exist? Why is it posted here?\n \nreply"
    ],
    "link": "https://slimsaas.com/blog/django-scaling-performance/",
    "first_paragraph": "\nBy  Andrew  on 11/10/2024 Most Django scaling guides focus on theoretical maximums. But real scaling isn\u2019t about handling hypothetical millions of users - it\u2019s about systematically eliminating bottlenecks as you grow. Here\u2019s how to do it right, based on patterns that work in production.Django is the framework of choice for many of the largest web applications (e.g. Instagram, Pinterest, etc.). But it\u2019s not hard to get bogged down by common pitfalls.Before diving into solutions, understand that Django performance usually hits these bottlenecks in order:Don\u2019t optimize what isn\u2019t slowing you down. Here\u2019s how to tackle each when they become real problems:Before adding complexity, verify you\u2019ve done these:\u25a1 Optimized database queries (select_related, prefetch_related)\u25a1 Added proper database indexes\u25a1 Implemented view and template caching\u25a1 Moved static/media files to CDN\u25a1 Set up monitoring and alerting\u25a1 Configured connection pooling\u25a1 Implemented background tasks for heavy operations\u25a1 Added r"
  },
  {
    "title": "Consuming the Bluesky firehose for less than $2.50/mo (bad-example.com)",
    "points": 143,
    "submitter": "colinprince",
    "submit_time": "2024-11-15T23:13:00 1731712380",
    "num_comments": 30,
    "comments_url": "https://news.ycombinator.com/item?id=42152362",
    "comments": [
      "Two reasons to like BlueSky:1. Your username can be your website. I'm @bradgessler.com.2. Copy and pasting images into a message works on iOS (this has been broken on X/Twitter for a long time).There's more reasons to like it, but these two feel pretty great.I put a Ruby hacker starter pack together if you're looking for a way in:https://go.bsky.app/HXB2cPhThere's tons of other ones and communities as well.\n \nreply",
      "> Your username can be your website. I'm @bradgessler.com.But more importantly, you have to verify that you own the domain. I can't sign up as google.com\n \nreply",
      "It\u2019s going to go the way of Threads and Mastadon.  Lukewarm results at best, but glad you are enjoying it.\n \nreply",
      "Perhaps, but I haven\u2019t seen this level of momentum and consensus behind a text-based social network since early Twitter.Time will tell\u2014ultimately it\u2019s a self-fulfilling prophecy. If people \u201cbelieve\u201d and sign up, it will happen.\n \nreply",
      "Ooo we're back in the old good days of twitter again! The time where you could build against it and do things.I wrote a contest winning bot back at one tie:https://theexceptioncatcher.com/blog/2015/11/how-i-got-my-bo...\n \nreply",
      "This is cool and a big reason to root for BlueSky over X, all politics aside.I wonder if they (or some third party) offers zip files of dumps of various kinds? It seems that would go easier on thier servers.\n \nreply",
      "The bsky firehose is really fun and feels like a misty-eyed throwback to 2005.I used it last weekend to throw together this very silly little thing:\nhttps://bigmood.blue/\n \nreply",
      "I like the concept, but it is flashing way too fast.\nMaybe do a random selection every 1 sec, rather than a straight fire hose  ?\n \nreply",
      "Is there any way to make it flash less? I'm not epileptic, and I appreciate that you put a warning first, but it's still highly unpleasant after around 2 seconds. If I could look at it for a bit long it would be a cool experiment.\n \nreply",
      "+1Would be good if it just tiled the images, and then wrapped around after the screen is filled\n \nreply"
    ],
    "link": "https://bsky.bad-example.com/consuming-the-firehose-cheaply/",
    "first_paragraph": "2024-11-13 by phil (they/them)work in progressIt's fun to play with data[citation needed]. All data on Bluesky is extremely public, and with 15 million users (as of today and with mind-boggling growth), there's a lot of public data to play with.You can get the firehose as a websocket JSON feed with Jetstream. This connects you to everything happening on the network in real time. It's extremely easy to get started and very fun.Here's a random word from every post being posted right now:Connect firehose There you go, you just consumed it for free from your browser.After noodling around a bit, i sketched out this questionable little app which listens for all delete events from the firehose, and then shows the just-deleted text one last time in an anonymized disappearing feed. Kind of fascinating to see what people choose to delete. (also please note that I made this millions of users ago when the network was a fraction of the current chaotic speed). Maybe I'll write more about it later.An"
  },
  {
    "title": "The Battle Line at Louvain (privatdozent.co)",
    "points": 115,
    "submitter": "chmaynard",
    "submit_time": "2024-11-15T13:55:15 1731678915",
    "num_comments": 65,
    "comments_url": "https://news.ycombinator.com/item?id=42146957",
    "comments": [
      "My great grandfather was the vice rector of the university at the time, as an historian he took the initiative to covertly collect evidence of all the nazi crimes, evidence which was used in the nuremberg trials.But more interestingly, there was a nationalist movement in Belgium at the the time, and a debate on which language to use at the university. The international language (french) or the local language (flemish). He was of the opinion that both had their place, which put him in opposition to the nationalists. Since he was one of the founders of the flemish literature movement, and the prime expert on flemish history he was hard to attack directly by the nationalists. So they denounced him to the gestapo, hoping they would get rid of him while keeping their hands clean. Fortunately for me it didn\u2019t work, as the nazis were also reliant on his academic work for their pan-germanic narrative and refused to attack him directly as well.Nowadays we see as well western nationalist movements with ambivalent support for murderous regimes such as Russia, and I think this support comes in no small part from the idea that those regimes can be used to do the dirty work that they are too cowardly to do themselves\n \nreply",
      "To be sure, the burning of the library happened during the early days of WW1, which had neither nazis, gestapo, nor Nuremberg trials.\n \nreply",
      "It was burned down twice, in 1914 and 1940\n \nreply",
      "I think the source of confusion is the use of \u201cat the time\u201d in your previous comment, which is talking about events in WW2, when the article discusses events in 1914 with no reference to 1940.The cause in 1940 was apparently an artillery duel between German and British troops, which is on a different level from purposefully setting fire to a library within an occupied city, even if the result is equally terrible.\n \nreply",
      "To do \u2014 how? by invading their countries and establishing a police state? That\u2019s a little too much even for so called \u201cnationalists\u201d. I think it\u2019s just plain old bribery and propaganda.As a Russian who emigrated a long time ago for political reasons, signed countless anti-Kremlin petitions, and sent money to support Ukraine and her people, I am scared how many people support this regime for reasons unknown. I don\u2019t know any other possible reason except selling one\u2019s soul for money.\n \nreply",
      "Look up tankies[0] \u2014- people who support these atrocities by imperialists and other problematic regimes because they\u2019re so conditioned against the US / Western nations that they assume anyone acting against the west\u2019s interests must be doing good.[0] https://youtu.be/0lcBplljoD8\n \nreply",
      "I am aware of the phenomenon; the interesting part is the word \u201cconditioned\u201d. By whom? And, eventually, who paid for the conditioning? (I think it mostly ends with the usual suspects, Russia, China and Iran).\n \nreply",
      "Possibly at least somewhat. I think it also comes from getting disillusioned by legitimately terrible things done by the US in the name of \u201cdemocracy\u201d e.g. Latin American death squads in the 70s/80s, Iraq war and war on terror, etc.People can\u2019t seem to hold the idea of multiple countries being problematic and doing objectionable things. Certainly information ops from your usual suspects feed into this.\n \nreply",
      "Conditioning doesn't need to be something one does to another. You can condition yourself by just dabbling in something and then going down the rabbit hole.\n \nreply",
      "Like Elon being conditioned by his own social media website.\n \nreply"
    ],
    "link": "https://www.privatdozent.co/p/the-battle-line-at-louvain-1914",
    "first_paragraph": ""
  },
  {
    "title": "MomBoard: E-ink display for a parent with amnesia (miksovsky.com)",
    "points": 1836,
    "submitter": "pabs3",
    "submit_time": "2024-11-14T12:20:40 1731586840",
    "num_comments": 228,
    "comments_url": "https://news.ycombinator.com/item?id=42135520",
    "comments": [
      "What a beautiful use of technology to uphold someone's personhood, and let them know they are loved, despite (and with regard to) a profound injury.This reminds me of a desire I've had for a long time: a simple, wall-mountable eInk device that could be configured with a URL (+wifi creds) and render a markdown file, refreshing once every hour or so. It would be so useful for so many applications \u2013 I'm a parish priest and so I could use it to let people know what events are on, if a service is cancelled, the current prayer list, ... the applications would be endless. I'd definitely pay a couple of hundred dollars per device for a solid version of such a thing, if it could be mounted and then recharged every month or two.\n \nreply",
      "Just an aside, but \u201cparish priest\u201d must surely be the opposite of \u201csoftware developer\u201d on the Hacker News Table of Occupational Frequency. Neat!\n \nreply",
      "The principal of my son\u2019s former school was a Sister of St Joseph, and a huge HN fan.More amazing was how creative the sisters were in managing themselves with technology. Many decisions are made by votes, done in real time globally! Religious people get short shrift.\n \nreply",
      "Reminds me of the monks in the third season of Babylon 5. Who says you can't both be an IT person and a cleric?\n \nreply",
      "Lay preacher here. There are dozens of us, dozens!\n \nreply",
      "Given their history as archivers it seems like a natural complement, really\n \nreply",
      "And scientists. Gregor Mendel comes to mind.https://en.m.wikipedia.org/wiki/Gregor_Mendel\n \nreply",
      "That episode with the reformed murderer was especially hard...what a brilliant show\n \nreply",
      "To save a few moments stalking his profile yourself: https://news.ycombinator.com/item?id=38762380TLDR: 20 years as SWE, then used his skills for his calling.\n \nreply",
      "I'm a backer, but this would probably fit your bill https://www.kickstarter.com/projects/usetrmnl/trmnl-the-e-in...I wanted the same kind of general eink device, but this is also supposedly super hackable!\n \nreply"
    ],
    "link": "https://jan.miksovsky.com/posts/2024/11-12-momboard",
    "first_paragraph": "November 12, 2024Today marks two years since I first set up an e-ink display in my mom\u2019s apartment to help her live on her own with amnesia. The display has worked extremely well during those two years, so I\u2019m sharing the basic set-up in case others find it useful for similar situations.Note: unless you have specific experience caring for someone who has amnesia but not dementia, please do not offer care suggestions.In June 2022 the side-effects of a long surgery left my mom with permanent anterograde amnesia: she can no longer form new long-term memories. Memory isn\u2019t just one neurological system, so very occasionally she will able to remember certain types of things. But for the most part, if she hears or sees something, a few minutes later she will no longer remember it.To medical professionals her condition looks a lot like dementia \u2014 amnesia is a common symptom of dementia \u2014 but she doesn\u2019t have dementia. One difference is that (as I understand it) dementia is a progressive diseas"
  },
  {
    "title": "FTC to launch investigation into Microsoft's cloud business (arstechnica.com)",
    "points": 50,
    "submitter": "rbanffy",
    "submit_time": "2024-11-15T22:39:49 1731710389",
    "num_comments": 12,
    "comments_url": "https://news.ycombinator.com/item?id=42152068",
    "comments": [
      "I'm going to miss Lina Khan.  It is unfortunate that a government contractor with a dumb grudge is going to be allowed to decide her fate.  As far as I can tell she's been doing great work over there.\n \nreply",
      "Actually Matt Gaetz, who will likely be her boss, calls himself a \"Khanservative\" in support of her\n \nreply",
      "But what does Donald want?It doesn't matter at all what Matt Gaetz wants. .\n \nreply",
      "I will follow the remainder of her career with great interest.\n \nreply",
      "She was cooked either way. Kamala's financiers were also demanding she fire Lina.\n \nreply",
      "What or who is the source for this?Also, since when did Ars syndicate the Financial Times?https://www.ft.com/content/62f361eb-ce52-47c1-9857-878cfe298...\n \nreply",
      "ive always thought their offering was basically \"three rich guys in a trenchcoat.\"  customers include MS Office, XBox, and every corporation strong-armed into accepting cloud credits in order to continue receiving discounted licenses on desktops.\n \nreply",
      "I recently tried to delete my Microsoft account. The system wouldn't let me (it gave me a popup saying \"known issues exist\"). I spent a long time trying to figure out how to contact Microsoft until I just emailed the data controller saying I want to delete my account. We went back and forth with support for a month until it got escalated to executive support. They closed it saying they can't help me and I need to open a new ticket with 365 commercial support. I gave up.\n \nreply",
      "> I gave up.That is the idea, yes.\n \nreply",
      "Microsoft\u2019s bundling of different distinct products across azure, office, and many other brands needs to be investigated and shut down. And all the dark patterns like nudging users to import all their tabs into edge or whatever.\n \nreply"
    ],
    "link": "https://arstechnica.com/tech-policy/2024/11/ftc-to-launch-investigation-into-microsofts-cloud-business/",
    "first_paragraph": "\n        Microsoft is accused of using punitive licensing terms for Azure.\n      The Federal Trade Commission is preparing to launch an investigation into anti-competitive practices at Microsoft\u2019s cloud computing business, as the US regulator continues to pursue Big Tech in the final weeks of Joe Biden\u2019s presidency.The FTC is examining allegations that Microsoft is abusing its market power in productivity software by imposing punitive licensing terms to prevent customers from moving their data from its Azure cloud service to competitors\u2019 platforms, according to people with direct knowledge of the matter.Tactics being examined include substantially increasing subscription fees for those that leave, charging steep exit fees, and allegedly making its Office 365 products incompatible with rival clouds, they added.The FTC is yet to formally request documents or other information from Microsoft as part of the inquiry, the people said.A move to challenge Microsoft\u2019s cloud business practices w"
  },
  {
    "title": "Show HN: Scooter \u2013 Interactive find and replace in the terminal (github.com/thomasschafer)",
    "points": 97,
    "submitter": "tomschafer",
    "submit_time": "2024-11-15T16:45:46 1731689146",
    "num_comments": 48,
    "comments_url": "https://news.ycombinator.com/item?id=42148543",
    "comments": [
      "Since we're all giving replacements to this, nobody's mentioned my preferred one, so: use git add's patch mode. On a clean worktree, do the search/replace in bulk. Then use `git add --patch` to selectively add the good replacements and skip the bad ones. Finally, `git checkout -- .` to throw away all the bad ones. The nice part about this is that it's not much to remember. If you can make a global search and replace, and you can use `git add --patch` (which is useful loads of times), you can do a selective search and replace by combining them.As far as this actual tool: the demo GIF is way too fast-paced to show what's going on. A better demo would maybe search \"ring\", have 10 or so results instead of pages and pages, and show how you can unselect \"spring\" matches which were unintentionally caught.\n \nreply",
      "You get all this and more with a direct perl one liner. Without the interactivity. I'd argue that if it is a lot of files, interactivity would be a pain. Also, since the original is preserved as a .bak file, one can be fearless about trying   #change xxx to yyy in all html\n   bash> perl -pi.bak -e 's/xxx/yyy/g' *.html\n\n   #change xxx10 (say) to yyy10 in all html\n   bash> perl -pi.bak -e 's/xxx(\\d+)/yyy$1/g' *.html\n\n   # Change x4 to yyyy, where the number of y's equals to the number after x.\n   bash> perl -pi.bak -e 's/x(\\d+)/\"y\" x $1/ge' *.\n\nThe last example shows the /e operator, which evaluates an expression and uses the result as substitute, instead of a simple string.And finally, to exclude files, one can use a subshell.  For example, suppose you want to change all html, but exclude undesirable.html..   perl -pi.bak -e 's/x/y/g'  $(ls *.html | egrep -v undesirable)\n \nreply",
      "Cool! is it possible to support structural search like ast-grep[1]? ast-grep has some interactive mode but it is nothing near Scooter.1: https://ast-grep.github.io/\n \nreply",
      "We're losing the art of bash\n```\nfind -type f -iname '*.go' | xargs -r -n1 sed -i 's,foo,foobar,g'\n```\n \nreply",
      "Neat ... but I'd probably just do this by opening a \"grep -l\" list in nano for interactive replacement directly instead. Easy peasy.\n \nreply",
      "Cool.I assumed it uses ripgrep (or the underlying walkdir) because that's the established high-performance tool for this. But apparently not.\n \nreply",
      "It uses https://docs.rs/ignore/latest/ignore/ to walk dirs while respecting ignore files\n \nreply",
      "(And `ignore` uses `walkdir` internally)\n \nreply",
      "For single threaded use cases. For multi-threaded, it has its own parallel directory traversal. :-)\n \nreply",
      "Very cool!  I currently use `sad` for this, if you're already an fzf user you should check it out.https://github.com/ms-jpq/sad\n \nreply"
    ],
    "link": "https://github.com/thomasschafer/scooter",
    "first_paragraph": "We read every piece of feedback, and take your input very seriously.\n            To see all available qualifiers, see our documentation.\n          \n        Interactive find and replace in the terminal\n      Scooter is an interactive find-and-replace terminal UI app.Search with either a fixed string or a regular expression, enter a replacement, and interactively toggle which instances you want to replace. You can also specify a regex pattern for the file paths you want to search.If the instance you're attempting to replace has changed since the search was performed, e.g. if you've switched branches and that line no longer exists, that particular replacement won't occur: you'll see all such cases at the end.Scooter respects both .gitignore and .ignore files.You can add capture groups to the search regex and use them in the replacement string: for instance, if you use (\\d) - (\\w+) for the search text and ($2) \"$1\" as the replacement, then 9 - foo would be replaced with (foo) \"9\".Ensure yo"
  },
  {
    "title": "Jawboning in Plain Sight: The Unconstitutional Censorship Tolerated by the DMCA (rstreet.org)",
    "points": 15,
    "submitter": "hn_acker",
    "submit_time": "2024-11-15T22:32:54 1731709974",
    "num_comments": 0,
    "comments_url": "",
    "comments": [
      "xxx"
    ],
    "link": "https://www.rstreet.org/research/jawboning-in-plain-sight-the-unconstitutional-censorship-tolerated-by-the-dmca/",
    "first_paragraph": ""
  }
]