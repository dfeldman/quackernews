[
  {
    "title": "Launch HN: Codebuff (YC F24) \u2013 CLI tool that writes code for you",
    "points": 189,
    "submitter": "jahooma",
    "submit_time": "2024-11-07T17:06:28 1730999188",
    "num_comments": 158,
    "comments_url": "https://news.ycombinator.com/item?id=42078536",
    "comments": [
      "Congratulations on your launch!  But I confess that I am really confused.  This sounds exactly like Aider, but closed source and it's locked into a single LLM API?  I just watched you use it, and looks a lot like Aider too?  Why would I use this over Aider?I've seen people say \"you don't have to add files to Codebuff\", but Aider tells me when the LLM has requested to see files.  I just have to approve it.  If that bothers you, it's open source, so you could probably just add a config to always add files when requested.Aider can also run commands for you.What am I missing?\n \nreply",
      "Beyond what James highlighted, I personally really like how simple Codebuff is. CLI tools tend to go a bit overboard with options and configurations imo, which is ok if you're just setting them up once or twice. But for a tool I want to rely upon every day for my work, I want them to be as simple as possible, but no simpler.Have you used Aider extensively? How are you finding it for your coding needs vs IDE-based chats?\n \nreply",
      "It sounds minor that it finds files for you, but if you try it out, you'll see that it's a giant leap in UX and the extra files help it generate better code because it has more examples from your codebase.\n \nreply",
      "The demos I see for these types of tools are always some toy project and doesn't reflect day to day work I do at all. Do you have any example PRs on larger more complex projects that have been written with codebuff and how much of that was human interactive?The real problem I want someone to solve is helping me with the real niche/challenging portion of a PR, ex: new tiptap extension that can do notebook code eval, migrate legacy auth service off auth0, record and replay API GET requests and replay a % of them as unit tests, etc.So many of these tools get stuck trying to help me \"start\" rather than help me \"finish\" or unblock the current problem I'm at.\n \nreply",
      "I hear you. This is actually a foundational idea for Codebuff. I made it to work within the large-ish codebase of my previous startup, Manifold Markets.I want the demos to be of real work, but somehow they never seem as cool unless it's a neat front end toy example.Here is the demo video I sent in my application to YC, which shows it doing real stuff: https://www.loom.com/share/fd4bced4eff94095a09c6a19b7f7f45c?...\n \nreply",
      "This comment makes me think of Coke vs. Pepsi.Historically, Pepsi won taste tests and people chose Coke. Because Pepsi is sweeter, so that first sip tastes better. But it's less satisfying\u2014too sweet\u2014to drink a whole can.The sexy demos don't, in my opinion and experience, win over the engineers and leaders you need. Lil startups, maybe, and engineers that love the flavor of the week. But for solving real, unsexy problems\u2014that's where you'll pull in organizations.\n \nreply",
      "Every experience I have had with LLMs generating code. LLMs tend to follow the prompt much too closely and produce large amounts of convoluted code that in the end prove not only unnecessary but quite toxic.Where LLMs shine is in being a personal Stack Overflow: asking a question and having a personalized, specific answer immediately, that uses one's data.But solving actual, real problems still seem out of reach. And letting them touch my files sound crazy.(And yes, ok, maybe I just suck at prompting. But I would need detailed examples to be convinced this approach can work.)\n \nreply",
      "I'm sure your prompting is great! It's just hard because LLMs tend to be very wordy by default. This was something we struggled with for a while, but I think we've done a good job at making Codebuff take a more minimal approach to code edits. Feel free to try it, let me know if it's still too wordy/convoluted for you.\n \nreply",
      "Great question \u2013 we struggled for a long time to put our demo together precisely for this reason. Codebuff is so useful in a practical setting, but we can't bore the audience with a ton of background on a codebase when we do demos, so we have to pick a toy project. Maybe in the future, we could start our demo with a half-built project?Hopefully the demo on our homepage shows a little bit more of your day-to-day workflows than other codegen tools show, but we're all ears on ways to improve this!To give a concrete example of usefulness, I was implementing a referrals feature in Drizzle a few weeks ago, and Codebuff was able to build out the cli app, frontend, backend, and set up db schema (under my supervision, of course!) because of its deep understanding of our codebase. Building the feature properly requires knowing how our systems intersect with one another and the right abstraction at each point. I was able to bounce back and forth with it to build this out. It felt akin to working with a great junior engineer, tbh!EDIT: another user shared their use cases here! https://news.ycombinator.com/item?id=42079914\n \nreply",
      "Why not take a large and complex code-base such as the firefox source code, feed that in and demonstrate how that goes?\n \nreply"
    ],
    "link": "item?id=42078536",
    "first_paragraph": ""
  },
  {
    "title": "Functional ultrasound through the skull (brainhack.vercel.app)",
    "points": 114,
    "submitter": "lawrenceyan",
    "submit_time": "2024-11-01T20:52:45 1730494365",
    "num_comments": 29,
    "comments_url": "https://news.ycombinator.com/item?id=42021450",
    "comments": [
      "Surely this is easily solved with time-reversed acoustics. Just stab a transmitter into the brain with an ice pick to the point you want to measure, and pick up the signal at lots of locations around the skull. Now you have both a mapping from an input signal (the reverse of the signal you picked up) that you can send to precisely target that point, and you know it looks like after it comes out from that point (the original signal you picked up).Now you can tell exactly what is going on and the person is thinking! Specifically it'll be either: (1) \"oh my god, I have an ice pick in my brain\" or (2) nothing, because they have an ice pick in their brain.\n \nreply",
      "Nah, this only works if you\u2019re willing to leave the ice pick there, because the ice pick will have a wildly different speed of sound than the bone or brain, and it will scatter the ultrasound strongly as a result.\n \nreply",
      "Yeah, that's fair. I guess you have to make the ice pick out of tofu.\n \nreply",
      "\u201cThe thing that nobody tells you is that you can buy a real human skull online (shoutout to skullsunlimited.com). We did that, and then CT scanned it.\u201dThis is an A+\n \nreply",
      "When people \"donate their body to science\", they don't usually expect their parts getting sold to the public. But that's the reality of it.\n \nreply",
      "\u201cPeople often quote 22 dB/cm/MHz attenuation of ultrasound. Decibels are a logarithmic scale, so with 1.4 cm of roundtrip skull distance, and typical fUSI frequencies of 10 MHz, this would be 14 orders of magnitude of attenuation! In physics, there's a word for 14 orders of magnitude of attenuation. It's called zero, i.e., you will measure nothing.But where did the 22 dB/cm/MHz attenuation number come from? We were skeptical\u2026\u201d\n \nreply",
      "Skulls Unlimited really has their branding on point. I might just have to get one for the holidays.\n \nreply",
      "Reddit claims they do background checks.\n \nreply",
      "Just a cool $1800 for a Halloween prop.\n \nreply",
      "For that price, it's gonna somehow have to be included in _every_ holiday.\n \nreply"
    ],
    "link": "https://brainhack.vercel.app/fus",
    "first_paragraph": "By: Raffi Hotter, Vincent Huang, Brian Machado, Thomas Ribeiro, and Anson YuFunctional ultrasound imaging (fUSI) is an awesome new technology for imaging brain activity. Its spatial resolution can be even better than fMRI. The hardware to run ultrasound can be made compact and cheap.Could we possibly use it to make a brain-computer interface? Similar to the acousto-electric effect, fUSI could have 10,000x more channels than state-of-the-art EEG.Functional ultrasound in a rat brain (from Mac\u00e9 et al., 2011)So far, all fUSI experiments involve opening up the skull or replacing it with an acoustically-transparent window. Not the greatest if you want a non-invasive brain-computer interface. Could we do functional ultrasound with the skull intact?When we asked around about doing functional ultrasound with the skull intact, we were told it was impossible. There are two big challenges in it ultrasound work through the skull:A 1 MHz ultrasound wave propagating through a skull model, obtained vi"
  },
  {
    "title": "Using Ghidra and Python to reverse engineer Ecco the Dolphin (32bits.substack.com)",
    "points": 313,
    "submitter": "bbayles",
    "submit_time": "2024-11-07T14:25:30 1730989530",
    "num_comments": 77,
    "comments_url": "https://news.ycombinator.com/item?id=42076884",
    "comments": [
      "The hash is merely a CRC32; exactly this one (polynomial 0x77073096, code is wrong)https://web.mit.edu/freebsd/head/sys/libkern/crc32.c(The decoded ints in the post are the constants in this CRC32).Knowing it's a CRC32 and knowing the polynomial allows inverting the answers in log time instead of exponential time by exploiting the modular math of the polynomial rings.\n \nreply",
      "I know some of these words!\n \nreply",
      "It means that using bruteforce to find all the values would be much faster.\n \nreply",
      "But OP did Brute Force?\n \nreply",
      "Thanks! I didn't clock that - should have looked at the decrypted values!\n \nreply",
      "Do you have any tips on knowing how the value is a result of CRC32 and/or the polynomial/initial value used?\n \nreply",
      "In this example, the \"encrypted data\" is xored with the key 4 bytes at a time. The first 4 bytes in the data are the same as the key. For the next 4 and you get the constant I posted above. Plug into Google, find where it is often found, decide rest of table, see it matches.I've learned programmers either invent their own hashes, random number generators, and crypto, in which case I usually break them, or they reuse existing algos, in which any code constants are searchable.Plus I've written and reversed enough of all that I recognized the loop as a CRC polynomial remainder loop.All Crc-n algos are trivially crackable/reversible/collideable. They're a remainder on division of polynomials (learn the math on how they work), so use the polynomial equivalent of extended euclidean algo and you get one answer. Now all sufficient multiples of that mod class give all possible answers, one at a time.That should give you plenty to chase through\n \nreply",
      "Looking in the binary for the polynomial and knowing what the common ones are from experience is an easy way.Normally, the polynomial is going to be found right next to a loop that is ingesting bytes incrementally.\n \nreply",
      "When the original Ecco came out on the Megadrive (Genesis), I spent all my hard-earned money to buy it. That game is obscenely hard. I got frustrated, so I sat down for the afternoon with a pen and paper and somehow managed to decode the password system. I teleported to the final level and completed it the next day.Then I was wracked with guilt about spending all my money on a game I completed in two days.\n \nreply",
      "> I sat down for the afternoon with a pen and paper and somehow managed to decode the password systemWould love to hear more about this, if you have any recollection :)\n \nreply"
    ],
    "link": "https://32bits.substack.com/p/under-the-microscope-ecco-the-dolphin",
    "first_paragraph": ""
  },
  {
    "title": "Sustainable Web Interest Group Is Formed (w3.org)",
    "points": 101,
    "submitter": "agumonkey",
    "submit_time": "2024-11-07T19:05:11 1731006311",
    "num_comments": 26,
    "comments_url": "https://news.ycombinator.com/item?id=42079758",
    "comments": [
      "I hope they're successful. I think the web really needs some \"decluttering\". The ratio of processing power by useful payload nowadays is unsustainable. For example any news website, in order to read some text, you need to load a ton of JavaScript, ads (some even video) that add zero value to the intended purpose. My nostalgia wants some of the early 00s web again, but I believe in something between.\nWhich consumes far less watts and potentially reducing many tons of e-waste globally.\n \nreply",
      "> that add zero value to the intended purposeWell...to your intended purpose. They're often better aligned with the purpose of keeping the business running.\n \nreply",
      "I'm skimming the linked Web Sustainability Guidelines. It's pretty much the normal stuff HN-types have been banging on about in every thread on webdev for the last decade or two. I don't really see how this will change anything.\n \nreply",
      "Now it can carry a weight similar to WCAG levels, which means that product managers and customers might pay more attention to these requirements, especially if they like ticking boxes.\"Our new update means we reach WGAC 2 Level AA to > 90% and WSG to 60%, next release we aim to reach WSG to >70%\" might be something we hear next year.\n \nreply",
      "Do you really think the same news organizations that send the user 4mb worth of cross origin Javascript just to show 6kb of text is really gonna back track like that?\n \nreply",
      "I think that it will make it easier for people to justify efforts they already want to do. And that\u2019s something, I guess.\n \nreply",
      "That cross-orign JavaScript is their revenue.\n \nreply",
      "I looked to see what those guidelines had. It has nothing about pages actually having contents if JavaScript isn't ran or CSS isn't supported.\n \nreply",
      "I think the web really needs some \"decluttering\". The ratio of processing power by useful payload nowadays is unsustainable.I completely agree.  However, I think browsers are also to blame in some part.On web sites that I build, I sometimes get alerts from Safari that my page is bogging down the computer and it offers to \"reduce protections\" to make the page perform better.  But this is always on pages that are plain HTML and CSS, and don't even have animations.  No Javascript.  No canvas.  Not even forms.  And the total payload is often less than 20K.I don't know what else I can do to make it lighter.\n \nreply",
      "> The guidelines are best practices based on measurable, evidence-based research; aimed at end-users, web workers, stakeholders, tool authors, educators, and policymakers.Was I the only one thrown momentarily by the use of \"web worker\" to refer to a human?\n \nreply"
    ],
    "link": "https://www.w3.org/blog/2024/sustainable-web-interest-group-is-formed/",
    "first_paragraph": "Understand the various specifications, their maturity levels on the web standards track, and their adoption.A variety of groups develop Web Standards, guidelines, or supporting materials.W3C works at the nexus of core technology, industry needs, and societal needs.Master Web fundamentals, use our developer tools, or contribute code.Recent content across news, blogs, press releases, media; upcoming events.Understand our values and principles, learn our history, look into our policies, meet our people.W3C is pleased to announce the formation of the Sustainable Web Interest Group. The mission of the Sustainable Web Interest Group is to improve digital sustainability so that the Web works better for all people and the planet. The digital industry is responsible for 2-5% of global emissions, more than the aviation industry. If the Internet were a country it would be one of the top five polluters. The amount of water, energy, and minerals required increases annually, often putting the burden"
  },
  {
    "title": "AI for real-time fusion plasma behavior prediction and manipulation (princeton.edu)",
    "points": 203,
    "submitter": "agomez314",
    "submit_time": "2024-11-07T15:12:10 1730992330",
    "num_comments": 104,
    "comments_url": "https://news.ycombinator.com/item?id=42077319",
    "comments": [
      "See also https://www.ri.cmu.edu/ai-meets-fusion-cmu-princeton-join-fo...(that was the submitted link but we changed it via https://news.ycombinator.com/item?id=42077657)",
      "TIL: it's not just buzzwords.https://en.wikipedia.org/wiki/Fusion_power#Machine_learning\n \nreply",
      "My advisor also worked on this ML project for estimating electron density and temperature within tokomaks: https://www.cs.wm.edu/~ppeers/showPublication.php?id=Ozturk:...Technically that counts as \"AI in nuclear fusion\", but it isn't any sort of breakthrough. In almost every case the effects of AI are marginal. Not zero exactly, but nowhere near the breathless hype.\n \nreply",
      "When I used to work in grid computing almost 20 years ago, we were already running fusion experiments, realtime streaming the data to the grid, which would rapidly analyze it and compute some new parameters for the next run (I think they had a 20 minute downtime).  I don't think it was considered machine learning at the time, though (and was certainly not deep learning as we practice it today).\n \nreply",
      "Remember, AI is just procedurally generated data analysis.\n \nreply",
      "Computers are just electron tunneling machines.\n \nreply",
      "Yeah machine learning is more or less just very complex application of control theory techniques and notably it is usually done by people without formal control theory backgrounds.Super useful for control applications but obviously you really want to know control theory so that you aren't just using ML to throw darts at a wall.\n \nreply",
      "More like optimization. Signal processing and control theory are basically the same maths with different applications, optimization is a bit different but has some overlap (especially with, e.g. optimal control techniques).\n \nreply",
      "> using ML to throw darts at a wallA bit off topic but I had a laugh at that, reminded me of that ridiculous Meta commercial where the girl at a pool table asks Meta which ball should she hit?\n \nreply",
      "Very interesting if you consider life as a complex chemical reaction that tries to self-sustain.\n \nreply"
    ],
    "link": "https://control.princeton.edu/machine-learning-for-rt-profile-control-in-tokamaks/",
    "first_paragraph": "Plasma Control GroupA non-linear complex system governed by multi-spatial and multi-temporal physics scales cannot be fully understood with a single diagnostic, because each diagnostic provides only a partial view and much information is lost while extracting physical quantities from its raw measurements. Also, combining multiple diagnostics results in multiple imperfect projections of the system\u2019s physics. By identifying hidden inter-correlations between diagnostics, we can leverage mutual support to fill in these gaps. However, uncovering these inter-correlations analytically is too complex to be achieved analytically. We introduce a groundbreaking machine learning methodology to address this issue. Our multimodal approach generates super-resolution data encompassing multiple physics phenomena, enabling the capture of detailed structural evolution and responses to perturbations previously unobservable. This methodology addresses a critical problem in fusion plasmas: the Edge Localize"
  },
  {
    "title": "Mushroom Color Atlas (mushroomcoloratlas.com)",
    "points": 158,
    "submitter": "gaws",
    "submit_time": "2024-11-07T17:12:39 1730999559",
    "num_comments": 20,
    "comments_url": "https://news.ycombinator.com/item?id=42078581",
    "comments": [
      "This is so incredible. My friend's mom loves dying wool with natural pigments (she even gets her wool from local alpacas!) and she'll go crazy for this. She has wanted a blue/green for a while and it turns out there's one that actually grows around us.Actually a lot of these mushrooms can be found around where I live. I'll have to go on some hunts before winter!edit: It would be cool to see something like this for other materials like barks and leaves. As teenagers we used to go around the woods finding her all kinds of weird stuff to dye things with... usually while hunting for our own mushrooms (not for dying things)\n \nreply",
      "There\u2019s a YouTube channel where a guy does this with his native flora, it\u2019s pretty awesome:https://youtube.com/@justinthetrees?si=FCKrfjddLS7f8U2i\n \nreply",
      "https://www.mycopigments.com/ also does lichen, and has plenty of guides and resources.Just a heads up however to be mindful about toxicity of the mushrooms you select, however generally speaking the dyed end product is safe. https://pmc.ncbi.nlm.nih.gov/articles/PMC7277368/\n \nreply",
      "Just don't eat any unless you're certain it's safe. You won't get poisoned just from touching any mushrooms.One interesting gotcha that regularly kills people, is that there are some look-a-like species between Eurasia and North America, where one is edible and the other is poison. Apparently is fairly common in Washington state for eastern European immigrants (cultures where mushroom foraging is common) to die this way, because they eat something that looks familiar to them.\n \nreply",
      "Right, lichens are a big one. Thanks for the link!\n \nreply",
      "FYI it is also available as a book!\n \nreply",
      "I made some Lichen dye from local shield lichen last spring.  Still have it in a jar and need to test but it is supposed to be a reddish brown.Also, I processed a bunch of Black Walnuts this month and I hear if you save the water used in the processing it makes a great stain/dye.  It seemed to stain the concrete really well on the porch where the squirrels were dropping a lot of the husks too.I will keep my eye out for the mushrooms needed this fall to do this method too.\n \nreply",
      "Oh yeah, walnut is a great dye. No need for mordant, too. And everytime I drink nocino (an italian liqueur made with unripe walnuts), I'm wondering what my insides look like, haha!\n \nreply",
      "Funny you mention it.I made Nocino back in June.  Green walnuts kept falling and I said \"I wonder what people do with these?\" First 2 hits on a search were Nocino and pickled walnuts...I chose the former. :)\n \nreply",
      "This is absolutely beautiful.I\u2019m tempted to make a color palette out of this spectrum for my plotting library! A \u201cfungi\u201d palette\n \nreply"
    ],
    "link": "https://www.mushroomcoloratlas.com/",
    "first_paragraph": "Explore the chromatic universe of fungi through the spectrum of colors naturally produced by dye mushrooms.In this dynamic ATLAS, colors can be filtered by mushroom type, dyes or pigments, or by the fabrics and mordants used. All dye mushrooms in the atlas are searchable in the INDEX. Learn more about the PROCESS to discover methods, techniques and variables for dyeing with mushrooms. Read the POSTS to to find resources and learn about events. Pick up the BOOK to embark on a vibrant journey through the fungi kingdom."
  },
  {
    "title": "QNX is now free for anything non-commercial, plus there's an RPi image (qnx.com)",
    "points": 410,
    "submitter": "JohnAtQNX",
    "submit_time": "2024-11-07T18:35:22 1731004522",
    "num_comments": 162,
    "comments_url": "https://news.ycombinator.com/item?id=42079460",
    "comments": [
      "If only you could believe them.QNX has been \"opened\" twice before. Each time, there was a rug pull, and it went closed again.Before the first rug pull, open source groups routinely added QNX to their target list. There was a Firefox for QNX. Eclipse had QNX as a target. GCC and most of the Gnu command line tools could be built for QNX.\nThere was a desktop environment, Photon. I used that as a primary desktop for three years when working on a DARPA Grand Challenge vehicle.All of that went away after the Harman acquisition of QNX in 2004.Then, in 2007, QNX went open source. You could even look at the microkernel. It wasn't openly licensed, but you could look inside and build it.In 2010, RIM acquired QNX, and, with no warning, closed the source. All open source development related to QNX ceased, and QNX lost all credibility in the community. So QNX shot itself in the foot. Twice.Note the contractual terms.[1] \"TERMINATION. This Agreement and licenses granted hereunder may be terminated by either Party upon written notice to the other Party\". QNX can pull the plug at any time. Since they've done so twice in the past, there's a good chance that will happen again.Now, if QNX is serious about this, the way to go is to use the licensing model Epic uses for Unreal Engine. Unreal Engine is behind most AAA game titles. The basic terms are that you can download the source and use it for anything you want, and there's no charge until you get the first $1 million in revenue from your product. Then Epic takes a 5% royalty.[2] This has been extremely successful for Epic. There's not much of a piracy problem, because if your game gets enough revenue to matter, it has enough visibility that their licensing people will notice. Meanwhile, there's a large pool of people using Unreal Engine.That's the way to do it if you want more adoption of QNX. Take the Epic term sheet to your lawyers and management. And have them take a look at Unreal Engine's revenue growth vs. QNX.As I once told a QNX sales rep, your problem isn't that you're being pirated. It's that you're being ignored.[1] http://www.qnx.com/download/feature.html?programid=51624[2] https://cdn2.unrealengine.com/UnrealEngine/faq/UnrealEngineE...\n \nreply",
      "> Now, if QNX is serious about this, the way to go is to use the licensing model Epic uses for Unreal Engine. Unreal Engine is behind most AAA game titles. The basic terms are that you can download the source and use it for anything you want, and there's no charge until you get the first $1 million in revenue from your product. Then Epic takes a 5% royalty.[2] This has been extremely successful for Epic. There's not much of a piracy problem, because if your game gets enough revenue to matter, it has enough visibility that their licensing people will notice. Meanwhile, there's a large pool of people using Unreal Engine.One option: Dual-license as GPLv3 (the 3 is important!) or commercial license. Hobbyists and FOSS projects will be quite happy to use a GPLv3 OS. The big commercial users - traditionally cars and other embedded uses - will not want to be legally obligated to give users the ability to install custom firmware (which GPLv3 basically requires), so they'll still pay for it. Everyone wins.(IANAL, this is not legal advice, interpret licenses yourself.)\n \nreply",
      "Even more critically, dual-license commercial and AGPLv3 to avoid the AWS loophole (hosted services or source modifications without licensing it commercial.)AGPLv3 is perfect for kernel and userspace tools because, while it doesn't guarantee licensing revenues, as soon as they do anything to modify it they have to release those changes to ANY users of the system, whether downstream distributors or simply users of the network services they provide. Since they have to provide any IP/patents they used to do it under copyleft terms, QNX would get publicly visible benefits, albeit with changes that might not be useful under the commercial license without negotiating a CLA with the modifying party, but under the commercial license you could negotiate terms/a discount to trade their new code for a reduction in their cost of licensing. It's a win/win from either an open source PR or a behind the scenes commercial negotiation point. Obviously your lawyers, bean counters, and C-suite have to get onboard, but if you are serious about growing QNX's marketshare now that Linux is gaining real-time kernel support in mainline, you had better point out to your bosses they need to make the decision quick and stick to it, or there won't be a next time.Edit: Adjustments made to clarify my position and suggestion.\n \nreply",
      "My honest opinion is that the prevalence of licenses like GPLv3 and AGPLv3 end up indirectly leading to people recreating the wheel, rather than using the wheel that exists already.\n \nreply",
      "Working as intended. If they don't want to share, then they can't benefit.\n \nreply",
      "I think wheel-reinvention is the perfect punishment for people that want to be stingy with their wheel development. Copyleft infringement deserves no more empathy than copyright infringement.\n \nreply",
      "Also I wonder how many applications really need more real time responsiveness than you can get out of Linux.  We even havehttps://arstechnica.com/gadgets/2024/09/real-time-linux-is-o...If I use Linux I know I won't have to have a discussion about licensing,  I know I won't get rug pulled, etc.Also the ban on commercial use is heinous.  I am going through this with Arangodb right now.  I love the product, but I have no budget for a cloud instance they manage and I have no budget to talk with their sales people about a commercial license.  I have several systems that use it (including one that's about 80% of a way to a \"too big for free\" database) and I don't know if their fate will be (a) open sourcing, (b) a product or (c) a system that makes money for me directly but for me the short path is to switch to postgres, not talk to people whose business model doesn't necessarily allow my business model.\n \nreply",
      "rt linux is not appropriate for many hard realtime requirementsi have seen some try and fail in an effort to save $perceived_value\n \nreply",
      "Is there a good libre real-time OS you would recommend over it?\n \nreply",
      "RTEMS is one and there is also eCOS. RTEMS has flown in space a few times so it is proven.Forgot to mention: the neat part of RTEMS is it allows one to sort of turn a Unix program into a bare metal program.\n \nreply"
    ],
    "link": "https://blackberry.qnx.com/en/products/qnx-everywhere",
    "first_paragraph": "QNX is changing the field for engineers and software developers by offering easy access to QNX software and resources for non-commercial purposes, making innovation more accessible than ever.\n                        There are several licensing options for access and use of our software. Read this guide to help you find the type of license that is right for you.\n                    \n                        Simply create a myQNX account and log in to get started. After receiving your license for\u00a0non-commercial use, you can download and install QNX\u00ae SDP 8.0 via QNX Software Center.\u00a0End user license terms and conditions apply*.\n                    \n                        Visit the QNX community on GitLab to access a variety of resources to support your development and a growing collection of open-source projects ported to run on QNX out of the box.\n                    DownloadGet your QNX Software Development Platform 8.0 license for non-commercial use and start your development journey t"
  },
  {
    "title": "Show HN: BemiDB \u2013 Postgres read replica optimized for analytics (github.com/bemihq)",
    "points": 136,
    "submitter": "exAspArk",
    "submit_time": "2024-11-07T16:25:40 1730996740",
    "num_comments": 65,
    "comments_url": "https://news.ycombinator.com/item?id=42078067",
    "comments": [
      "Question: is it possible to use BemiDB in ... don't know how to spell it, maybe read-only mode? And by that I mean one Bemi instance that is connected to postgres source, and others that use the produced Iceberg tables to answer queries? Poor man's scalability of the query engine :) ... I would also imagine having an instance that is write-only (reads from postgres and produces the Iceberg tables) and one or many query-only engines.\nOther than that, great work, will definitely start using it!\n \nreply",
      "I don\u2019t totally understand the fascination with storing analytical data on S3. It\u2019s not fast, and if you\u2019re in a write heavy environment it\u2019s definitely not cheap either.What\u2019s with the avoidance of clickhouse or duckdb paired with insanely fast EBS or even physically attached storage? You can still backup to s3, but using s3 for live analytics queries is missing out on so much of the speed.\n \nreply",
      "As much as DuckDB is cute I've mostly come to believe that Clickhouse is the perfect thing to pair Postgres with. This is especially true now that they've acquired PeerDB and are integrating it into the Clickpipes cloud product.DuckDB is neat, and I understand why a company like BemiDB would build their product on top of it, but as a prospective customer embedded databases are a weird choice for serious workloads when there are other good open-source solutions like Clickhouse available.\n \nreply",
      "Using duckdb and apache iceberg means that you can run read replicas without any operational burden. Clickhouse is amazing, but they do not allow you to mount dumb read replicas to object storage (yet).I can imagine this product is a very elegant solution for many types of companies/teams/workloads.\n \nreply",
      "You can mount read replicas on object storage in ClickHouse.Example:    CREATE DATABASE test;\n    USE test;\n\n    CREATE TABLE hackernews_history UUID '66491946-56e3-4790-a112-d2dc3963e68a'\n    (\n        `update_time` DateTime DEFAULT now(),\n        `id` UInt32,\n        `deleted` UInt8,\n        `type` Enum8('story' = 1, 'comment' = 2, 'poll' = 3, 'pollopt' = 4, 'job' = 5),\n        `by` LowCardinality(String),\n        `time` DateTime,\n        `text` String,\n        `dead` UInt8,\n        `parent` UInt32,\n        `poll` UInt32,\n        `kids` Array(UInt32),\n        `url` String,\n        `score` Int32,\n        `title` String,\n        `parts` Array(UInt32),\n        `descendants` Int32\n    )\n    ENGINE = ReplacingMergeTree(update_time)\n    ORDER BY id\n    SETTINGS disk = disk(readonly = true, type = 's3_plain_rewritable', endpoint = 'https://clicklake-test-2.s3.eu-central-1.amazonaws.com/', use_environment_credentials = false);\n\nAnd you can try it right now.Install ClickHouse:    curl https://clickhouse.com/ | sh\n    ./clickhouse local\n\nRun the query above to attach the table.The table is updated in real time. For example, here is your comment:    :) SELECT * FROM hackernews_history WHERE text LIKE '%Clickhouse is amazing%' ORDER BY update_time \\G\n\n    Row 1:\n    \u2500\u2500\u2500\u2500\u2500\u2500\n    update_time: 2024-04-06 16:35:28\n    id:          39785472\n    deleted:     0\n    type:        comment\n    by:          mightybyte\n    time:        2024-03-21 22:59:20\n    text:        I&#x27;ll second this.  Clickhouse is amazing.  I was actually using it today to query some CSV files.  I had to refresh my memory on the syntax so if anyone is interested:<p><pre><code>  clickhouse local -q &quot;SELECT foo, sum(bar) FROM file(&#x27;foobar.csv&#x27;, CSV) GROUP BY foo FORMAT Pretty&quot;\n    </code></pre>\n    Way easier than opening in Excel and creating a pivot table which was my previous workflow.<p>Here&#x27;s a list of the different input and output formats that it supports.<p><a href=\"https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;interfaces&#x2F;formats\" rel=\"nofollow\">https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;interfaces&#x2F;formats</a>\n    dead:        0\n    parent:      39784942\n    poll:        0\n    kids:        [39788575]\n    url:         \n    score:       0\n    title:       \n    parts:       []\n    descendants: 0\n\n    Row 2:\n    \u2500\u2500\u2500\u2500\u2500\u2500\n    update_time: 2024-04-06 18:07:34\n    id:          31334599\n    deleted:     0\n    type:        comment\n    by:          richieartoul\n    time:        2022-05-11 00:54:31\n    text:        Not really. Clickhouse is amazing, but if you want to run it at massive scale you\u2019ll have to invest a lot into sharding and clustering and all that. Druid is more distributed by default, but doesn\u2019t support as sophisticated of queries as Clickhouse does.<p>Neither Clickhouse nor Druid can hold a candle to what Snowflake can do in terms of query capabilities, as well as the flexibility and richness of their product.<p>That\u2019s just scratching the surface. They\u2019re completely different product categories IMO, although they have a lot of technical &#x2F; architectural overlap depending on how much you squint.<p>Devil is in the details basically.\n    dead:        0\n    parent:      31334527\n    poll:        0\n    kids:        [31334736]\n    url:         \n    score:       0\n    title:       \n    parts:       []\n    descendants: 0\n\n    Row 3:\n    \u2500\u2500\u2500\u2500\u2500\u2500\n    update_time: 2024-11-07 22:29:09\n    id:          42081672\n    deleted:     0\n    type:        comment\n    by:          maxmcd\n    time:        2024-11-07 22:13:12\n    text:        Using duckdb and apache iceberg means that you can run read replicas without any operational burden. Clickhouse is amazing, but they do not allow you to mount dumb read replicas to object storage (yet).<p>I can imagine this product is a very elegant solution for many types of companies&#x2F;teams&#x2F;workloads.\n    dead:        0\n    parent:      42080385\n    poll:        0\n    kids:        []\n    url:         \n    score:       0\n    title:       \n    parts:       []\n    descendants: 0\n\n    3 rows in set. Elapsed: 3.981 sec. Processed 42.27 million rows, 14.45 GB (10.62 million rows/s., 3.63 GB/s.)\n    Peak memory usage: 579.26 MiB.\n \nreply",
      "ClickHouse is definitely a popular choice nowadays. I'm curious whether you self-host ClickHouse or use their Cloud? We wanted to make BemiDB as simple to run as possible with a single binary and object storage (vs large machines, big disks, clustering, running Temporal for CDC, etc.)\n \nreply",
      "Clickhouse has an embedded version (https://github.com/chdb-io/chdb), the issue with duck is that it's too buggy for production loads. You can see a nice list of the issues here:https://news.ycombinator.com/item?id=41490707\n \nreply",
      "Really cool! I have an IoT use-case where I ingest data, I want to keep like the last 3 months or so in Postgresql, and then store the old data as parquet files on S3I planned initially to do chunks on S3 and do the analytical queries using duckdb, I'm wondering if your tool would be a good replacement?For now I don't have that many analytical queries, I'm mostly doing visualization of the data points by querying a range (eg last 2 weeks of data for a device)Does it then make sense to use columnar storage or am I better off with \"regular Postgres\"?Or in my case does your approach provide \"best of both worlds\" in the sense that I could do some occasional analytical queries on past data stored on S3, and regularly access \"last 3 months\" data for visualization using the data stored in the regular Postgres?\n \nreply",
      "Thank you!Yes, absolutely!1) You could use BemiDB to sync your Postgres data (e.g., partition time-series tables) to S3 in Iceberg format. Iceberg is essentially a \"table\" abstraction on top of columnar Parquet data files with a schema, history, etc.2) If you don't need strong consistency and fine with delayed data (the main trade-off), you can use just BemiDB to query and visualize all data directly from S3. From a query perspective, it's like DuckDB that talks Postgres (wire protocol).Feel free to give it a try! And although it's a new project, we plan to keep building and improving it based on user feedback.\n \nreply",
      "Thanks!- Can you give me more info about the strong consistency and delayed data, so I can better picture it with a few examples?- Also, is it possible to do the sync with the columnar data in \"more-or-less real-time\" (eg do a NOTIFY on a new write in my IoT events table, and push in the storage?)- Would your system also be suited for a kind of \"audit-log\" data? Eg. if I want to have some kind of audit-table of all the changes in my database, but only want to keep a few weeks worth at hand, and then push the rest on S3, or it doesn't make much sense with that kind of data?\n \nreply"
    ],
    "link": "https://github.com/BemiHQ/BemiDB",
    "first_paragraph": "We read every piece of feedback, and take your input very seriously.\n            To see all available qualifiers, see our documentation.\n          \n        Postgres read replica optimized for analytics\n      BemiDB is a Postgres read replica optimized for analytics.\nIt consists of a single binary that seamlessly connects to a Postgres database, replicates the data in a compressed columnar format, and allows you to run complex queries using its Postgres-compatible analytical query engine.Install BemiDB:Sync data from a Postgres database:Run BemiDB database:Run Postgres queries on top of the BemiDB database:By default, BemiDB stores data on the local disk.\nHere is an example of running BemiDB with default settings and storing data in a local iceberg directory:BemiDB natively supports S3 storage. You can specify the S3 settings using the following flags:Here is the minimal IAM policy required for BemiDB to work with S3:BemiDB consists of the following main components:BemiDB is optimized f"
  },
  {
    "title": "Edge Scripting: Build and run applications at the edge (bunny.net)",
    "points": 77,
    "submitter": "gnabgib",
    "submit_time": "2024-11-07T18:17:20 1731003440",
    "num_comments": 32,
    "comments_url": "https://news.ycombinator.com/item?id=42079275",
    "comments": [
      "BunnySDK.net.http.serve(async (request: Request): Response | Promise<Response> => {\n    return new Response(\"Hello World\");\n  });\n\nI love that pretty much all the JS runtimes have settled on `(Request): Response`[0], but I really wish they would standardize starting the server as well. Would make writing cross-runtime services easier.[0]: https://blog.val.town/blog/the-api-we-forgot-to-name/\n \nreply",
      "I think the closest thing we got is the Default fetch export https://docs.deno.com/runtime/fundamentals/http_server/#defa..., which Cloudflare Workers, Deno Deploy and Supabase Edge Functions support.\n \nreply",
      "Node is the only major outlier. Bun supports this convention as well: https://bun.sh/docs/api/http#export-default-syntax\n \nreply",
      "I wonder where the pattern first comes from? I think I either came across it in Express (JS) or Ring (Clojure) first but surely it was first done somewhere else.\n \nreply",
      "Thats new to me, is that an attempt to standardize similar to PHP's psr-7?\n \nreply",
      "They're undercutting CF Workers - requests are $0.2/million rather than $0.3/million, and CPU time costs the same.Seems pretty good on paper. There's no free allowance like you get with Workers though.\n \nreply",
      "If cost is a factor, one could plausibly put bunny behind cloudflare\u2019s free side.Another positive side effect would be to have paid dual redundancy then too.Backblaze is another neighbour that plays nice with bunny.\n \nreply",
      "Script edging: Never finish building applications\n \nreply",
      "Ah, so my side projects in a nutshell.\n \nreply",
      "Wouldn't running on the edge of the internet mean running on the devices that I see when I look around my house?  It feel like this serverless thing is rather serverful, unless I've overlooked the part where users are running a node somewhere.\n \nreply"
    ],
    "link": "https://bunny.net/blog/introducing-bunny-edge-scripting-a-better-way-to-build-and-deploy-applications-at-the-edge/",
    "first_paragraph": "Lightning-fast global CDNA better way to deliver online videosThe world's fastest cloud storagePowerful image processing & optimizationNext-generation DNS routingDeploy and run applications at the edgeFirst privacy oriented fontsDeliver the best video experience.Keep your videos secured and safe.Hollywood grade video protection. Generate captions with a single clickBest Gaming experience at any scale.Fastest storage for fastest downloads.Supercharge your WebsitePermanently store files on the edge.Say goodbye to slow loading images#1 Wordpress CDN on the marketNo more downtimes ever againDDoS Protection at the Network EdgeImprove your video delivery.Generate captions with a single clickSupercharge your websiteOptimize and compress imagesImprove your loading speedsTake control of your securityDeliver best Gaming experienceSupercharge your global downloadsLearn more about our goals, values and missionHelp us shape the future of the internetKeep up to date with our announcementsThe best su"
  },
  {
    "title": "I'm not mutable, I'm partially instantiated (dnmfarrell.com)",
    "points": 163,
    "submitter": "tlack",
    "submit_time": "2024-11-07T03:17:45 1730949465",
    "num_comments": 56,
    "comments_url": "https://news.ycombinator.com/item?id=42073001",
    "comments": [
      "I've never used it in production, but I have a deep love of Prolog, just because of how different it is from any other programming language I've used. As a programming paradigm, it found it as eye-opening as functional programming. What I found interesting is that you are operating on logical statements and pattern matching, which often means that the same \"function\" can be used for multiple different things. For example:append([], List, List).append([Head|Tail], List, [Head|Rest]) :-\n    append(Tail, List, Rest).Is a simple list append function: append(X, Y, Z) is a predicate that match if Z is the list of all elements of X, followed by all elements of Y. You can use it to concatenate lists, of course. But you can also use it to confirm that a particular list start with a particular sequence, or ends with a particular sequence! The idea that the same predicate can be used in multiple different ways is really fascinating to me. I have no idea to what extent that would scale in a large system, but it's very interesting\n \nreply",
      "I always thought that pattern matching would be an excellent feature for other programming languages, but it seems that it hasn't become popular. Many strategies available to Prolog could become possible just by the addition of this feature. One possible implementation of the idea occurs with C++ templates specialized with numerical parameters. It also seems that Mathematica provides pattern matching, but I don't use that language.\n \nreply",
      "Matching of patterns, with only a single occurrence allowed for each variable, is fairly popular in languages designed in the last two decades, isn\u2019t it? A lot of those have or at least borrow from ML heritage, and that of course places a big emphasis on algebraic types and pattern matching. Full-blown unification remains niche, that\u2019s true, but it\u2019s just a fairly heavyweight feature, and I don\u2019t really know how you\u2019d integrate it without turning your language into (a superset of) Prolog.\n \nreply",
      "Simon Peyton Jones (of Haskell) is working on Verse, a functional relational programming language, that merges the ideas of both functional and logical programming into one.It\u2019s being done to facilitate Fortnite metaverse, as he\u2019s doing this work at Epic.https://youtu.be/OJv8rFap0Nw?si=OmBT9CBJIxdJE1Jv\n \nreply",
      "Erlang, Elixir, Swift, Rust, Python, probably some others.That list is roughly in order of how capable and useful the pattern matching is in each of those languages. Erlang was originally written in Prolog.Also, I definitely agree it's a feature I miss everywhere when not using Erlang/Elixir.\n \nreply",
      "I mostly ignored Python until my job required it, about 8 years ago. Coming from Erlang, I was pleasantly astonished to find that I could use tuple pattern matching in function headers\u2026 until I discovered that was dropped in Python 3 and I had been using the mostly-dead version 2 runtime.\n \nreply",
      "I think I'd call this destructuring, as opposed to patterns and matches, and Python still does it, just not in the function head.I do wish they went the opposite direction and made the feature better instead of keeping it as a weird assignment thing in the body. The match statement is a similarly unfortunate solution, in my opinion.Oh well. :)\n \nreply",
      "You're correct, destructuring is the appropriate term.I checked the release notes, and the reason they removed it: no one was using it. I guess it's unsurprising, but sad.\n \nreply",
      "Do you have a suggestion on where to / how to start learning Prolog beyond towers-of-hanoi?  Prolog is basically the last language on my list of things I want to look at, but whenever I tried, I failed to find anything practical to do/try.\n \nreply",
      "Try a rules-based synthesis problem. Prolog style (put simplisticly) is to write down what is true about a solution, and turn the search engine loose. Prolog is still procedural, unfortunately, so practical Prolog requires understanding the search algorithm. A suggestion: produce the XY locations of the nails for a building-code-compliant nailing pattern for a panel of plywood roof sheathing.  Allow different stud spacing and wind speed zones. This is a small toy problem but will channel your thought process toward something Prologgy.\n \nreply"
    ],
    "link": "https://blog.dnmfarrell.com/post/incomplete-data-structures/",
    "first_paragraph": "Incomplete data structures challenge our notion of mutabilityNovember 6, 2024Chapter 15 from The Art of Prolog contains this dictionary implementation:Believe it or not, these six lines of code implement a dictionary as an ordered, binary search tree. The rule lookup/3 can be used to both add to and get from the dictionary.This query calls lookup/3 with a key, a variable, and a value. The variable is instantiated to a new dictionary containing the key-value pair and the variables _A and _B in the left and right branches:This query includes a second clause which adds another key-value pair, which is placed in the right branch of the first pair:Since values in logic programming are immutable - why does adding a key-value pair to the dictionary not need to copy and return a new version of the dictionary?The answer is because it\u2019s an incomplete data structure. The binary tree\u2019s left and right branches are variables, whose values can be determined later. So the lookup rule traverses the tre"
  },
  {
    "title": "Show HN: Draw.Audio \u2013 A musical sketchpad using the Web Audio API (draw.audio)",
    "points": 31,
    "submitter": "StreamGobbler",
    "submit_time": "2024-11-07T20:06:39 1731009999",
    "num_comments": 8,
    "comments_url": "https://news.ycombinator.com/item?id=42080377",
    "comments": [
      "Hello HN community!Out of my love for synthesizers and web development, I created a free audio sequencer called draw.audio, which includes selectable scales, waveforms, effects, LFOs, and more.While there are other \u201ctone matrix\u201d style webapps out there, I couldn\u2019t find one that quite scratched the itch for a large grid layout, modern design, and easily accessible modulation controls. So that was the inspiration, alongside my addiction to synths and hardware jam-boxes like the Synthstrom Deluge.Draw.audio uses the Web Audio API without any other frameworks or libraries. I tried to keep it as lightweight as possible. The to-do list includes a tutorial, pattern preset browsing, more audio effects, light visual animations, and open-sourcing it.In case you'd like tips:\n\u2022 It\u2019s more fun on touch screens, like an iPad.\n\u2022 It's kid friendly! In my limited testing, kids enjoy drawing on it.\n\u2022 The share button generates a direct link to anything you create.A big thank you to Sheer Havoc for creating the logo and other graphics!And thank you all for checking it out! I\u2019d love to hear any feedback you have. <3-Randy (long-time lurker, first time poster, and HN fan from SF)\n \nreply",
      "Love it! Related fun toy:\nhttp://roland50.studio/\n \nreply",
      "This is really cool. I just showed my son (10 years old) and he loves it. He is going to try it out on his phone. Thanks for sharing!\n \nreply",
      "Nice! I hope the kiddo has fun!\n \nreply",
      "Very fun to play with, Nice UI as well. Well done!\n \nreply",
      "Nice work. What's the underlying stack?\n \nreply",
      "It's really just Javascript and the Web Audio API. For the share links, I'm using Postgres on the backend to store the jsons. Pretty simple!\n \nreply",
      "It is excellent, I love it!\n \nreply"
    ],
    "link": "https://draw.audio",
    "first_paragraph": "JavaScript is disabled in your browser. Please enable it to use Draw.Audio.File ID:Uploaded At:"
  },
  {
    "title": "The Brothers Grimm: A Biography (theamericanscholar.org)",
    "points": 37,
    "submitter": "benbreen",
    "submit_time": "2024-11-07T06:46:37 1730961997",
    "num_comments": 5,
    "comments_url": "https://news.ycombinator.com/item?id=42074124",
    "comments": [
      "I've really been fascinated with how explicitly people set out to build nations in the 19th Century. I read Christopher Krebs' _A Most Dangerous Book: Tacitus's Germania from the Roman Empire to the Third Reich_ and it traces a different lineage in the same process- the process of turning someone who, say, lived in Mainz and thought of themselves as Hessian in 1800, into  the person who lived in the same building in 1900 and thought of themselves as German.In some ways, I've long suspected that there was a lot of freedom in that to build a culture ideally suited for the then present situation. \"Fuenf minuten vor der Zeit, ist des Deutschen Puenktlichkeit\" (1) in particular always struck me as something invented because it made the factories and the trains run better. It was first written down in 1880, attributed by a Silesia newspaper to Pomerania, and I really don't know that many people 100 years earlier, say, would have had a conception of what a \"German\" was in that sense. And before trains and factories, in an era when time is primarily told by the bells of the town clock tower and looking at the angle of the sun, no one would have had a real conception of what five minutes meant. So it couldn't really have been some ancient saying, carried down for hundreds of years. It had to be invented right around 1880.1: German \"on time\" is five minutes before it starts.\n \nreply",
      "How difficult or easy was that book as a read?  Sounds interesting but Im hoping its somewhat casual?\n \nreply",
      ">  town clock towerbreaking days into two sets of 12 hours, and sixty minutes per hour with sixty seconds to a minute, has been practiced since Biblical times, no?\n \nreply",
      "For those interested: https://woerterbuchnetz.de/?sigle=DWB&lemid=A00001\n \nreply",
      "Parsing \"Magic: The German\" made my brain glitch\n \nreply"
    ],
    "link": "https://theamericanscholar.org/masters-of-horror-and-magic/",
    "first_paragraph": ""
  },
  {
    "title": "Hyperlight: Virtual machine-based security for functions at scale (microsoft.com)",
    "points": 62,
    "submitter": "yoshuaw",
    "submit_time": "2024-11-07T17:01:31 1730998891",
    "num_comments": 15,
    "comments_url": "https://news.ycombinator.com/item?id=42078476",
    "comments": [
      "> These micro VMs operate without a kernel or operating system, keeping overhead low. Instead, guests are built specifically for Hyperlight using the Hyperlight Guest library, which provides a controlled set of APIs that facilitate interaction between host and guestSounds like this is closer to a chroot/unikernel than a \"micro VM\" - a slightly more firewalled chroot without most of the os libs, or a unikernel without the kernel. Pretty sure it's not a \"virtual machine\" though.Only pointing this out because these sorts of containers/unikernels/vms exist on a spectrum, and each type carries its own strengths and limitations; calling this by the wrong name associates it with the wrong set of tradeoffs.\n \nreply",
      "I guess if it uses CR3 it's a \"process\" and if it uses VMLAUNCH it's a \"VM\".\n \nreply",
      "Heh. Going by that delineation we end up with very VM-ish containers and (now) very container-ish VMs. Though this seems like it's even more stripped down than a unikernel - which would also be a \"VM\" here.\n \nreply",
      "I thought a chroot was not considered a real security boundary?\n \nreply",
      "Chroot is a real security boundary as long as you use it properly. That said, namespaces on Linux are much superior at this point, so I can only recommend using `chroot` for POSIX compliance.\n \nreply",
      "The Azure Upstream team has been working on a really fast hypervisor library written in Rust for the past three years. It does less than you'd conventionally do with hypervisors, but in turn it can start VMs around 2 orders of magnitude faster (around 1-2ms/VM).I think this is really cool, and the library was just released on GitHub for anyone to try. I\u2019m happy I got to help them write their announcement post \u2014 and I figured this might be interesting for folks here!\n \nreply",
      "Do you think requiring to use their packages is too limiting for widespread usage? Seems like you're forced to use Rust or C atm.This seems like a limitation that sits in a somewhat unusable place: For something simple and platform-specific (e.g. a HTTP transform) we can just use JS where the boot time perf makes up for the execution perf, and for something more serious like a full-fledged API 120ms should be more than enough time (and we can preemtively scale as long as we're not already at 0)\n \nreply",
      "The way to think about Hyperlight is as a security substrate intended to host application runtimes. You\u2019re right that the Hyperlight API only supports C and Rust today \u2014 but you can use that to for example load Python or JS runtimes which can then execute those languages natively.But we might be able to do even better than that by leveraging Wasm Components [1] and WASI 0.2 [2]. Using a VM guest based on Wasmtime, suddenly it becomes possible to run functions written in any language that can compile to Wasm Components \u2014 all using standard tooling and interfaces.I believe the team has a prototype VM guest based on Wasmtime working, but they still needed a little more time before it\u2019s ready to be published. Stay tuned for future announcements?[1]: https://component-model.bytecodealliance.org/introduction.ht...[2]: https://wasi.dev\n \nreply",
      "So in essence, this is somewhere between a unikernel+firecracker combo and a WASM module, but using VT.\n \nreply",
      "They mention that most guests are expected to run code in a VM/interpreter... I wonder if they have a build of V8 or JSC for their environment?\n \nreply"
    ],
    "link": "https://opensource.microsoft.com/blog/2024/11/07/introducing-hyperlight-virtual-machine-based-security-for-functions-at-scale/",
    "first_paragraph": "The Microsoft Azure Core Upstream team is excited to announce the Hyperlight project, an open-source Rust library you can use to execute small, embedded functions using hypervisor-based protection for each function call at scale. And it can do it at a speed that enables each function request to have its own hypervisor for protection. That\u2019s fast. That\u2019s new.\u00a0\u00a0In this post, we\u2019ll go deeper into the motivation behind creating Hyperlight, explain how Hyperlight works under the hood, and finally, go through a basic code example. Keep reading to learn more about Hyperlight. Or, if you want to jump right in and get started with Hyperlight, visit the project\u2019s GitHub repositories.\u00a0Try the sample of Hyperlight with Kernel-based Virtual Machine.Running things securely and quickly is a core objective for Microsoft, as it is for any number of developers and organizations around the world. Doing both is very hard.\u00a0\u00a0If security is your highest priority, as it is for a public cloud like Microsoft Az"
  },
  {
    "title": "Wild Ball (surge.sh)",
    "points": 3,
    "submitter": "mohabnasser",
    "submit_time": "2024-11-07T23:50:58 1731023458",
    "num_comments": 0,
    "comments_url": "",
    "comments": [
      "xxx"
    ],
    "link": "https://r3f-drei-rapier.surge.sh",
    "first_paragraph": ""
  },
  {
    "title": "Ambulance hits cyclist, rushes him to hospital, then sticks him with $1,800 bill (oregonlive.com)",
    "points": 86,
    "submitter": "type0",
    "submit_time": "2024-11-07T22:22:58 1731018178",
    "num_comments": 65,
    "comments_url": "https://news.ycombinator.com/item?id=42081764",
    "comments": [
      "As a bicyclist, I'm constantly told how dangerous bicycles are.  Usually, I get a blank look when I explain, bicycles are very safe, it is the cars that are the dangerous part of the equation.  Now I'll have to add fast billing ambulances to the list of dangers.\n \nreply",
      "You could say that jumping out of a plane without a parachute isn't dangerous, it's the ground that's dangerous.Cyclists make mistakes, make bad judgments, take big risks, just like car drivers. They are human too. You could say cyclists have a bigger incentive to avoid problems, but no driver I know wants to hit someone and injure them, and cyclists I know become inured to the risks after riding for years without injury - it seems to me that human attention loses focus unless something reinforces it; as a result 1 in 1,000 risks are very hard to focus on.Cars and bikes don't mix except when cars are going bicycle speed. If your system kills people when they make a mistake, your system is very badly designed.\n \nreply",
      "I don't think I've ever met a cyclist who's opposed to separated infrastructure for bikes and cars. Every local government project I've ever seen to build this kind of infrastructure runs into issues with drivers who don't think it's necessary or would somehow ruin their lives.\n \nreply",
      "> it's the ground that's dangerousSure, but there\u2019s nothing we can do about the ground\n \nreply",
      "I think most people equate \"bicycles are dangerous\" with \"cycling is dangerous\", which seems perfectly reasonable to me. What matters is whether you'll get hurt using a bicycle, not the pedantry of whether the bicycle itself is the problem.\n \nreply",
      "It's not pedantry when it's the root of the problem.Cycling isn't dangerous, being on the street with cars is dangerous. Being on the street on a bike is dangerous, walking down a street is dangerous. Heck being in a compact car on today's streets with oversized/overweight vehicles is dangerous.It's important to be precise about the source of the danger because it correctly identifies the problem.There's a big push right now to ban people from buying and registering Kei cars with the argument being that they're too dangerous on american roads. If that argument holds, firstly, then it flows logically that they can nanny state people off of their bikes and motorcycles as well using the same argument. Secondly, Kei cars are not dangerous, getting hit in a kei car by an oversized SUV or \"light\" truck is.\n \nreply",
      ">It's not pedantry when it's the root of the problem.How is this any different than \"guns don't kill people, people kill people?\"\n \nreply",
      "Because it's true in both cases. The root of the problem is something else and the thing being blamed flippantly can be much less of a worry if the root problem is addressed. People dismiss the guns don't kill people because it fits a simplistic ideological talking point, but it's simply a basic fact that whether guns are accessible or not, the people accessing them will be the cause of fatalities if there's something wrong with how they use these tools.With bikes, in a different context, something similar applies: What causes fatalities isn't bikes themselves but how the roads, rules, other people/vehicles and social conduct around bike use use and sharing of roads are.",
      "Because whether it's people pulling the trigger or the gun itself, both are the direct source of harm.  Bicycles are not the source of harm, cars are.The analogous argument one way would be quibbling over whether it's the driver or the car.  The analogous argument the other would be saying it's the shooting victims fault for being in a place where they are likely to get shot (bad neighborhood, in a position to surprise or threaten an armed individual, or maybe just in America)\n \nreply",
      "In this analogy, the bicycle is not the gun. The F-250 extended cab is.\n \nreply"
    ],
    "link": "https://www.oregonlive.com/pacific-northwest-news/2024/11/ambulance-hits-oregon-cyclist-rushes-him-to-hospital-then-sticks-him-with-1800-bill-lawsuit-says.html",
    "first_paragraph": "A photograph in a Rainier Police Department report shows William Hoesch's bicycle under the wheel of a Columbia River Fire & Rescue ambulance in October 2022.Rainier Police DepartmentAn Oregon cyclist who was struck by an ambulance that made a right turn into him \u2014 fracturing his nose and leaving him with scrapes and other injuries across his body \u2014 has filed a $997,000 lawsuit against the ambulance provider after it scooped him up, drove him to the hospital and then billed him for the service, according to the suit.Attorney Travis Mayor says the ambulance provider \u2014 Columbia River Fire & Rescue \u2014 sent his client, 71-year-old William Hoesch, a $1,862 bill for the ambulance ride. That\u2019s among about $47,000 in medical expenses that Hoesch has racked up so far and another $50,000 of medical costs he expects in the future, the suit states.Columbia River Fire & Rescue declined to comment. Allstate Fire and Casualty Insurance Co. didn\u2019t respond to a request for comment. The suit claims that "
  },
  {
    "title": "Perhaps Rust Needs \"Defer\" (gaultier.github.io)",
    "points": 54,
    "submitter": "broken_broken_",
    "submit_time": "2024-11-06T08:30:26 1730881826",
    "num_comments": 51,
    "comments_url": "https://news.ycombinator.com/item?id=42058091",
    "comments": [
      "> So now I am confused, am I allowed to free() the Vec's pointer directly or not?No, you are not; simple as that.  Miri is right.  Rust using malloc/free behind the scenes is an internal implementation detail you are not supposed to rely on.  Rust used to use a completely different memory allocator, and this code would have crashed at runtime if it were still the case.  Since when is undocumented information obtained from strace a stable API?It's not like you can rely on Rust references and C pointers being identical in the ABI either, but the sample in the post blithely conflates them.> It might be a bit surprising to a pure Rust developer given the Vec guarantees, but since the C side could pass anything, we must be defensive.This is just masking bugs that otherwise could have been caught by sanitizers.  Better to leave it out.\n \nreply",
      "> It's not like you can rely on Rust references and C pointers being identical in the ABI either.You absolutely can rely on that: https://doc.rust-lang.org/reference/type-layout.html#pointer...In fact, it's almost even best practice to do so, because it reduces the unsafe needed on Rust's side. E.g. if you want to pass a nullable pointer to T, declare it as e.g. a parameter x: Option<&T> on the Rust side and now can you do fully safe pattern matching as usual to handle the null case.Want to use some Rust type (not even repr(C)) from C? Just do something like this:#[no_mangle]\npub extern \"C\" fn Foo_new() -> Box<Foo> { Box::new(Foo::new()) }#[no_mangle]\npub extern \"C\" fn Foo_free(_: Box<Foo>) { /* automatic cleanup */ }#[no_mangle]\npub extern \"C\" fn Foo_do_something(this: &mut Foo) { this.do_something() }all fully safe. Unfortunately for the OP, Vec<_> isn't FFI safe, so that's still one of those cases that are on the rough side.\n \nreply",
      "> Pointers and references have the same layout.> The layout of a type is its size, alignment, and the relative offsets of its fields.So \u201clayout\u201d only constrains the memory addresses where a value and its constituents are stored; it does not cover niches.  Pointers are allowed to be null, references are not.  There is talk of making it illegal to have a reference be unaligned, or even point to very low addresses: <https://github.com/rust-lang/rfcs/pull/3204>.  At one point, there was even talk of certain kinds of references not even being stored as memory addresses at all: <https://github.com/rust-lang/rfcs/pull/2040>.  And Box<_> is not #[repr(transparent)] either.  To put it more generally, the only semantics of a Box<_> or a reference is that it grants you access to a value of a given type and is inter-convertible with a pointer.  Only *const _ and *mut _ have a guaranteed ABI.Just because you write fewer \u201cunsafe\u201d keywords does not mean your code is more safe.\n \nreply",
      "It is in fact documented that you can't do this:\"Currently the default global allocator is unspecified. Libraries, however, like cdylibs and staticlibs are guaranteed to use the System by default.\", however:\"[std::alloc::System] is based on malloc on Unix platforms and HeapAlloc on Windows, plus related functions. However, it is not valid to mix use of the backing system allocator with System, as this implementation may include extra work, such as to serve alignment requests greater than the alignment provided directly by the backing system allocator.\"https://doc.rust-lang.org/std/alloc/index.html\nhttps://doc.rust-lang.org/std/alloc/struct.System.html\n \nreply",
      "> such as to serve alignment requests greater than the alignment provided directly by the backing system allocatorSurely the system allocator provides memalign() or similar? Does Windows not have one of those?\n \nreply",
      "Kind of but not really, the Windows heap doesn't support arbitrary alignments natively, so the aligned malloc function it provides is implemented as a wrapper around the native heap which over-allocates and aligns within the allocated block. The pointer you get back isn't the start of the allocation in the native heap, so you can't pass it to the standard free() without everything exploding.I don't think fixing that mess was ever a priority for Microsoft because it's mainly an issue for C, and their focus has long been on C++ instead. C++ new/delete knows the alignment of the type being allocated for so it can dispatch to the appropriate path automatically with no overhead in the common <=16 byte case.\n \nreply",
      "On macOS, aligned_alloc works starting from macOS 10.15.\n \nreply",
      "Yep. The right philosophy is to always put the allocation and deallocation code in the same language. If you create a struct with C, also make a destructor in C and call that from rust to destroy your object. (Usually by putting an ffi call in your drop impl).And the same is true in reverse: rust struct might be temporarily owned and used by C code, but it should always be destroyed from rust.\n \nreply",
      "It's also a bad idea within the same language.A C library returning a pointer to allocated memory and then expecting the caller to free that memory with a function outside the library (like calling stdlib free()) is just bad API design (because you can't and shouldn't need to know whether the library is actually using the stdlib alloc functions under the hood - or whether the library has been linked with the same C stdlib than your own code - for instance when the library resides in a DLL, or the library might decide to bypass malloc and directly use lower-level OS calls for allocating memory).If you have a 'create' function in a C library, also always have a matching 'destroy' function.On top of that it's also usually a good idea to let the library user override things like memory allocation or file IO functions....and of course 'general purpose' global allocators are a bad idea to begin with :)\n \nreply",
      "That is exactly what what the parent post proposed.\n \nreply"
    ],
    "link": "https://gaultier.github.io/blog/perhaps_rust_needs_defer.html",
    "first_paragraph": " \u23f4 Back to all articlesPublished on 2024-11-06Or, how FFI in Rust is a pain in the neck.Discussions: /r/rust, /r/programming, HN, lobstersIn a previous article I mentioned that we use the defer idiom in Rust through a crate, but that it actually rarely gets past the borrow checker. Some comments were claiming this issue does not exist surprised and I did not have an example at hand.Well, today at work I hit this issue again so I thought I would document it. And the whole experience showcases well how working in Rust with lots of FFI interop feels like.So, I have a Rust API like this:It allocates and returns an dynamically allocated array as a pointer and a length. Of course in reality, Foo has many fields and the values are not known in advance but what happens is that we send messages to a Smartcard to ask it to send us a piece of data residing on it, and it replies with some encoded messages that our library decodes and returns to the user.I tell Cargo this is a static library:It's a"
  },
  {
    "title": "Show HN: Directional antenna alignment using phone motion sensors (conor.link)",
    "points": 18,
    "submitter": "cdebeling",
    "submit_time": "2024-11-03T14:55:06 1730645706",
    "num_comments": 3,
    "comments_url": "https://news.ycombinator.com/item?id=42033389",
    "comments": [
      "This is awesome. Many years ago I tried making an Android app for uni that would help you point your phone at the star you selected. The maths for that was insane and way over my head, I can only imagine that satellites would be much harder.Such a cool use of everyday tech!\n \nreply",
      "Neat. Needs a search box for satellite name -> norad id, or a link to n2yo\n \nreply",
      "Seems to work well, thanks.  Bookmarked for sure.  Much better than screwing with the level and compass apps while trying to aim an antenna!\n \nreply"
    ],
    "link": "https://star.conor.link/",
    "first_paragraph": "\ud83d\udef0\ufe0f STARSatellite Tracking and Alignment ResourceA easy to use web app to align your antenna with any satellite using your phone's motion sensors and location."
  },
  {
    "title": "Imaging shapes of atomic nuclei in high-energy nuclear collisions (nature.com)",
    "points": 31,
    "submitter": "bookofjoe",
    "submit_time": "2024-11-07T17:31:25 1731000685",
    "num_comments": 3,
    "comments_url": "https://news.ycombinator.com/item?id=42078826",
    "comments": [
      "From this very cool paper:\" In an ironic twist, this effectively realizes Richard Feynman\u2019s analogy of the seemingly impossible task of \u2018figuring out a pocket watch by smashing two together and observing the flying debris\u2019. \"\n \nreply",
      "In a rhyme with the uncertainty principle, you can either have your watch but have only a poor idea of what it even looks like, or momentarily observe the real shape that it once had.\n \nreply",
      "The pre-print: https://arxiv.org/abs/2401.06625\n \nreply"
    ],
    "link": "https://www.nature.com/articles/s41586-024-08097-2",
    "first_paragraph": "Thank you for visiting nature.com. You are using a browser version with limited support for CSS. To obtain\n            the best experience, we recommend you use a more up to date browser (or turn off compatibility mode in\n            Internet Explorer). In the meantime, to ensure continued support, we are displaying the site without styles\n            and JavaScript.Advertisement\nNature\nvolume\u00a0635,\u00a0pages 67\u201372 (2024)Cite this article\n47 AltmetricMetrics detailsAtomic nuclei are self-organized, many-body quantum systems bound by strong nuclear forces within femtometre-scale space. These complex systems manifest a variety of shapes1,2,3, traditionally explored using non-invasive spectroscopic techniques at low energies4,5. However, at these energies, their instantaneous shapes are obscured by long-timescale quantum fluctuations, making direct observation challenging. Here we introduce the collective-flow-assisted nuclear shape-imaging method, which images the nuclear global shape by coll"
  },
  {
    "title": "The egg or the chicken? An ancient unicellular says egg (unige.ch)",
    "points": 42,
    "submitter": "giuliomagnifico",
    "submit_time": "2024-11-07T13:26:28 1730985988",
    "num_comments": 67,
    "comments_url": "https://news.ycombinator.com/item?id=42076449",
    "comments": [
      "Usually choanoflagellates are considered the nearest non-animal protist to animals. These guys aren't so far off, and maybe shared an ancestor capable of multicellularity, but they're probably not ancestors of animals. So my non-expert guess is that this pattern of embryo-like division is convergent. If not, the evolutionary tree is about to get shuffled big time. https://en.wikipedia.org/wiki/Choanozoa and the containing group, https://en.wikipedia.org/wiki/HolozoaEdit: folks, there actually is some interesting science here if you can avoid getting hung up on the silly title.\n \nreply",
      "Many choanoflagellates are colonial, so they exhibit a primitive form of multicellularity that differs from true multicellularity by the lack of differentiation between cells.It is likely that the ancestor of all choanoflagellates was already colonial.The fact that Chromosphaera is also multicellular for the initial part of its life and it also shows differentiation in at least 2 kinds of cells does not imply that it is more closely related to the animals than the choanoflagellates.Also in some choanoflagellates, differentiation in 2 kinds of cells has been observed and it has been verified that the same genes are involved in multicellularity, both in animals and in choanoflagellates.See e.g. https://www.biorxiv.org/content/10.1101/452185v1So this new discovery just pushes back the origin of the mulicellularity of the animal type, from the common ancestor of animals and choanoflagellates to the ancestor of all opisthokonts more closely related to humans than to mushrooms.(Opisthokonts are a group of living beings composed of animals, fungi and their relatives, which are characterized by cells that swim using one posterior flagellum, like the human sperm cells.)It is likely that the split between the opisthokonts related to animals and the opisthokonts related to fungi has arisen because the former have remained in marine environments while the latter have adapted to continental environments, so in order to survive desiccation the ancestors of fungi have acquired a cell wall made of chitin that has protected their cells but which has caused the loss of their mobility, leading to the difference in lifestyles, where animals move around finding and eating their food, while the fungal spores are spread passively by wind and then they grow into their food.\n \nreply",
      "Multicellularity seems to be the theme of holozoa, for sure, but the article seems to think that this specific cell division pattern is homologous(?) with animals, and that seems unlikely to me, because it should also show up in choanoflagellates and everywhere else if so. (Ed: I think we're in violent agreement on this point)(That bit about the opisthokont split with fungus is fascinating, thanks.)\n \nreply",
      "Nice read. Anyways ...Hindu Mythology: Universe emerged from a \"cosmic egg\" (Brahmanda).Greek Mythology: Orphic tradition describes a universe hatching from an egg.Chinese Mythology: Pangu broke out of a cosmic egg, creating heavens and earth.Big Bang Theory: Universe began from a dense, hot \"singularity,\" conceptually like a cosmic egg.Symbolic Parallel: Egg symbolizes unity and potential, akin to the universe's origin.What's a chicken?\n \nreply",
      "> What's a chicken?A miserable little pile of secrets.\n \nreply",
      "Enough talk.\n \nreply",
      "A vessel to cross the street.\n \nreply",
      ">A vessel to cross the street.\n\nI literally cannot source this pun, and my ego refuses to believe you can had been this clever.  \"Ogres are like onions! They have layers, just like onions. You get it? We both have layers\"\n\nWe are all just recursive instances of magnitudes of complexity, and the \"automata\" we dissuade ourselves into denying we are not is just an ironic emergent property of being able to \"think\".\"Delineation\" between these automata is only possible with edges - a membrane, an egg, of sorts.\n \nreply",
      "Sorry for your ego but that came right from my brain as a joke. It wasn't until after I hit submit I paused to think, \"that's actually kinda profound for a Thursday morning.\"\n \nreply",
      "Ah, well, neither of our ego's can take credit, then.Id take the credit for it, but lack the ego.\n \nreply"
    ],
    "link": "https://www.unige.ch/medias/en/2024/loeuf-ou-la-poule-un-unicellulaire-ancestral-dit-loeuf",
    "first_paragraph": "A cell division resembling that of an animal embryo has been observed in a prehistoric unicellular organism, suggesting that embryonic development might have existed prior to the evolution of animals.Chromosphaera perkinsii is a single-celled species discovered in 2017 in marine sediments around Hawaii. The first signs of its presence on Earth have been dated at over a billion years, well before the appearance of the first animals. A team from the University of Geneva (UNIGE) has observed that this species forms multicellular structures that bear striking similarities to animal embryos. These observations suggest that the genetic programs responsible for embryonic development were already present before the emergence of animal life, or that C. perkinsii evolved independently to develop similar processes. Nature would therefore have possessed the genetic tools to \u201ccreate eggs\u201d long before it \u201cinvented chickens\u201d. This study is published in the journal Nature. The first life forms to appe"
  },
  {
    "title": "Ultraprecise method of aligning 3D semiconductor chips invented (techxplore.com)",
    "points": 121,
    "submitter": "thebeardisred",
    "submit_time": "2024-11-01T02:25:40 1730427940",
    "num_comments": 15,
    "comments_url": "https://news.ycombinator.com/item?id=42013508",
    "comments": [
      "Could this also be used for manufacturing lots of other microscopic things? layer by layer?\"Instead, their method finds errors up to 0.017 nm along side-to-side measures (x and y axes) and 0.134 nm when assessing the distance between the two chips (z-axis).\"Could you make some very very sensitive and tiny seismic sensors with this?edit:\n\"\nArbabi also points out that this method can be used to make displacement sensors that can be used for measuring displacements and other quantities. \"Many physical quantities that you want to detect can be translated to displacements, and the only thing you need is a simple laser and a camera,\" he says.For instance, \"if you want a pressure sensor, you could measure the movement of a membrane.\" Anything that involves movement\u2014vibration, heat, acceleration\u2014can in theory be tracked by this method.\"\n \nreply",
      "I made a home-brew seismic sensor using something similar, a hard disk head arm assembly, a cd-rom laser (which has an anisotropic lens and four photodiodes) and a Red Pitaya used as PID, so I guess it can be done!\n \nreply",
      "The last bit about using this same technique for sensors is pretty cool. Ultra-sensitive microphones or touch sensors would be pretty awesome.\n \nreply",
      "This is not novel in general - the same technique has been used in lens alignment for decades.\n \nreply",
      "Maybe I'm missing something here, doesn't this simply move the precision problem to a different part of manufacturing? Previously you had to be precise with aligning the chips, now you have to be precise with how you put those alignment marks on the chips you want to align. Am I missing something here? Or is it considerably easier to put the marks on the chips with sufficient precision?\n \nreply",
      "Putting marks on the chip with high precision is much easier; that's done by the same kind of lithographic process that's used for building up all the other layers of the chip, which is generally via exposing a photosensitive layer of material with light through a mask, and they already have ways of keeping those mask layers in alignment.But aligning multiple chips together is a different process, and while it sounds like they previously had ways to do this via simple optical inspection of those alignment marks, that's less accurate than a holographic alignment using a laser.\n \nreply",
      "I would think the alignment marks would be included in the photomasks, so they would be part of the chips themselves\n \nreply",
      "Isn't this very similar to the way optical position encoders work?\n \nreply",
      "I think the difference is that you don't need to change the focus of the optical sensors in order to verify alignment.  So you don't have to worry about movement while the focus is changed.\n \nreply",
      "Nothing is invented, only discovered.\n \nreply"
    ],
    "link": "https://techxplore.com/news/2024-10-ultraprecise-method-aligning-3d-semiconductor.html",
    "first_paragraph": ""
  }
]